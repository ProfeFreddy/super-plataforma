import{r as A,g as Me,a as yr,R as f,u as gr,b as br,o as vr,c as xr,s as xt,d as et,e as J,f as Et,h as mt,i as it,j as Er,k as Dn,l as Qe,q as Je,m as Ze,n as tn,p as wr}from"./index-BqLPJdMO.js";import{_ as _r}from"./index-Ch80AtY6.js";import{_ as $,P as Sr,C as Nr}from"./CronometroGlobal-CTnLldTF.js";import{P as Ir}from"./planCaps-OxFxGX_F.js";var oe={};function Tn(t,e){e=e||{};var n=e.preserveNumbers,r=function(a){return a.trim()},i={};return Mr(t).map(r).filter(Boolean).forEach(function(a){var o=a.indexOf(":"),l=a.substr(0,o).trim(),d=a.substr(o+1).trim();n&&Cr(d)&&(d=Number(d)),i[l]=d}),i}function Cr(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Mr(t){for(var e=[],n=0,r=";",i=/url\([^\)]+$/,a="",o;n<t.length;){if(o=t.indexOf(r,n),o===-1&&(o=t.length),a+=t.substring(n,o),i.test(a)){a+=";",n=o+1;continue}e.push(a),a="",n=o+1}return e}function Pn(t){return Object.keys(t).map(function(e){return e+":"+t[e]}).join(";")}function Or(t,e){return Pn(Tn(t,e))}oe.parse=Tn;oe.stringify=Pn;oe.normalize=Or;var Fn={exports:{}},Ar=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Dr=/^(?:button|input|object|select|textarea)$/i,Tr=/^a(?:rea)?$/i,Pr=/:|^on/,Rn={},Oe,gt={tabindex:{get:function(t){var e=t.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):Dr.test(t.nodeName)||Tr.test(t.nodeName)&&t.href?0:void 0}}},Fr={get:function(t,e){return t[Oe[e]||e]?e.toLowerCase():void 0}},re={};gt.style={get:function(t){return t.style.cssText}};Oe={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"};var Rr=typeof navigator<"u"?navigator.userAgent:"",zt=typeof document<"u"?document:{};function kr(t){var e=0;return parseFloat(t.replace(/\./g,function(){return e++===0?".":""}))}function jr(){var t,e;if((t=Rr.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(e=t[1]||t[2]))return zt.documentMode||kr(e)}function en(t,e){for(var n in e)t[n]=e[n]}function Lr(t,e){for(var n=0,r=t.length;n<r&&e(t[n],n)!==!1;n++);}var Yt=jr();Yt&&Yt<8&&(gt.style.set=function(t,e){t.style.cssText=e},en(re,{get:function(t,e){var n=t.getAttributeNode(e);return n&&(n.specified||n.nodeValue)?n.nodeValue:void 0}}),en(Rn,Oe),gt.tabIndex=gt.tabindex,Lr(["href","src","width","height","colSpan","rowSpan"],function(t){gt[t]={get:function(e){var n=e.getAttribute(t,2);return n===null?void 0:n}}}),gt.placeholder={get:function(t,e){return t[e]||re.get(t,e)}});if(Yt){var Ur=gt.href=gt.href||{};Ur.set=function(t,e,n){var r=t.childNodes,i,a=r.length,o=a>0;for(a=a-1;a>=0;a--)r[a].nodeType!==3&&(o=0);o&&(i=t.ownerDocument.createElement("b"),i.style.display="none",t.appendChild(i)),t.setAttribute(n,""+e),i&&t.removeChild(i)}}var Br=/^[\s\xa0]+|[\s\xa0]+$/g,nn=String.prototype.trim,jt=" ",Ae;Ae=function(t,e){return e.getElementsByTagName(t)};if(zt.createElement){var rn=zt.createElement("div");rn.appendChild(document.createComment("")),rn.getElementsByTagName("*").length&&(Ae=function(t,e){var n=e.getElementsByTagName(t),r=t==="*";if(r||typeof n.length!="number"){for(var i=[],a=0,o;o=n[a++];)(!r||o.nodeType===1)&&i.push(o);return i}else return n})}var qr="sourceIndex"in(zt&&zt.documentElement||{})?function(t,e){return t.sourceIndex-e.sourceIndex}:function(t,e){if(!t.compareDocumentPosition||!e.compareDocumentPosition)return t.compareDocumentPosition?-1:1;var n=t.compareDocumentPosition(e)&4;return n?-1:1},$r=Fn.exports={ie:Yt,unique:function(){var t,e=!0;[0,0].sort(function(){return e=!1,0});function n(r,i){return r===i?(t=!0,0):qr(r,i)}return function(r){if(t=e,r.sort(n),t)for(var i=1,a=r.length;i<a;)r[i]===r[i-1]?(r.splice(i,1),--a):i++;return r}}(),getElementsByTagName:Ae,getSimpleAttr:function(t,e){var n=t&&t.getAttributeNode(e);if(n&&n.specified)return"value"in n?n.value:n.nodeValue},contains:Yt?function(t,e){return t.nodeType===9&&(t=t.documentElement),e=e.parentNode,t===e?!0:e&&e.nodeType===1?t.contains&&t.contains(e):!1}:function(t,e){return!!(t.compareDocumentPosition(e)&16)},isTag:function(t,e){return e==="*"||t.nodeName.toLowerCase()===e.toLowerCase()},hasSingleClass:function(t,e){var n=t&&$r.getSimpleAttr(t,"class");return n&&(n=n.replace(/[\r\t\n]/g,jt))&&(jt+n+jt).indexOf(jt+e+jt)>-1},startsWith:function(t,e){return t.lastIndexOf(e,0)===0},endsWith:function(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n},trim:nn?function(t){return t==null?"":nn.call(t)}:function(t){return t==null?"":(t+"").replace(Br,"")},attr:function(t,e){var n,r;if(e=e.toLowerCase(),e=Rn[e]||e,Ar.test(e)?n=Fr:Pr.test(e)?n=re:n=gt[e],t&&t.nodeType===1){if(t.nodeName.toLowerCase()==="form"&&(n=re),n&&n.get)return n.get(t,e);if(r=t.getAttribute(e),r===""){var i=t.getAttributeNode(e);if(!i||!i.specified)return}return r===null?void 0:r}}},Wr=Fn.exports,kn={exports:{}};(function(t){var e=function(n){var r={},i={SHIFT_TYPE:1,REDUCE_TYPE:2,ACCEPT_TYPE:0,TYPE_INDEX:0,PRODUCTION_INDEX:1,TO_INDEX:2};function a(h,m){for(var w in m)h[w]=m[w]}function o(h){return Object.prototype.toString.call(h)==="[object Array]"}function l(h,m,w){if(h){var y,O,L,j=0;if(w=w||null,o(h))for(L=h.length,O=h[0];j<L&&m.call(w,O,j,h)!==!1;O=h[++j]);else for(y in h)if(m.call(w,h[y],y,h)===!1)break}}function d(h,m){for(var w=0,y=m.length;w<y;w++)if(m[w]===h)return!0;return!1}var b=function(m){var w=this;w.rules=[],a(w,m),w.resetInput(w.input)};b.prototype={resetInput:function(h){a(this,{input:h,matched:"",stateStack:[b.STATIC.INITIAL],match:"",text:"",firstLine:1,lineNumber:1,lastLine:1,firstColumn:1,lastColumn:1})},getCurrentRules:function(){var h=this,m=h.stateStack[h.stateStack.length-1],w=[];return h.mapState&&(m=h.mapState(m)),l(h.rules,function(y){var O=y.state||y[3];O?d(m,O)&&w.push(y):m===b.STATIC.INITIAL&&w.push(y)}),w},pushState:function(h){this.stateStack.push(h)},popState:function(h){h=h||1;for(var m;h--;)m=this.stateStack.pop();return m},showDebugInfo:function(){var h=this,m=b.STATIC.DEBUG_CONTEXT_LIMIT,w=h.matched,y=h.match,O=h.input;w=w.slice(0,w.length-y.length);var L=(w.length>m?"...":"")+w.slice(0-m).replace(/\n/," "),j=y+O;return j=j.slice(0,m)+(j.length>m?"...":""),L+j+`
`+new Array(L.length+1).join("-")+"^"},mapSymbol:function(m){return this.symbolMap[m]},mapReverseSymbol:function(h){var m=this,w=m.symbolMap,y,O=m.reverseSymbolMap;if(!O&&w){O=m.reverseSymbolMap={};for(y in w)O[w[y]]=y}return O?O[h]:h},lex:function(){var h=this,m=h.input,w,y,O,L,j,x=h.getCurrentRules();if(h.match=h.text="",!m)return h.mapSymbol(b.STATIC.END_TAG);for(w=0;w<x.length;w++){y=x[w];var I=y.regexp||y[1],v=y.token||y[0],p=y.action||y[2]||n;if(O=m.match(I)){j=O[0].match(/\n.*/g),j&&(h.lineNumber+=j.length),a(h,{firstLine:h.lastLine,lastLine:h.lineNumber+1,firstColumn:h.lastColumn,lastColumn:j?j[j.length-1].length-1:h.lastColumn+O[0].length});var s;return s=h.match=O[0],h.matches=O,h.text=s,h.matched+=s,L=p&&p.call(h),L===n?L=v:L=h.mapSymbol(L),m=m.slice(s.length),h.input=m,L||h.lex()}}}},b.STATIC={INITIAL:"I",DEBUG_CONTEXT_LIMIT:20,END_TAG:"$EOF"};var g=new b({rules:[["b",/^\[(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["c",/^(?:[\t\r\n\f\x20]*)\]/,function(){this.text=this.yy.trim(this.text)}],["d",/^(?:[\t\r\n\f\x20]*)~=(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["e",/^(?:[\t\r\n\f\x20]*)\|=(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["f",/^(?:[\t\r\n\f\x20]*)\^=(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["g",/^(?:[\t\r\n\f\x20]*)\$=(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["h",/^(?:[\t\r\n\f\x20]*)\*=(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["i",/^(?:[\t\r\n\f\x20]*)\=(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["j",/^(?:(?:[\w]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))(?:[\w\d-]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))*)\(/,function(){this.text=this.yy.trim(this.text).slice(0,-1),this.pushState("fn")}],["k",/^[^\)]*/,function(){this.popState()},["fn"]],["l",/^(?:[\t\r\n\f\x20]*)\)/,function(){this.text=this.yy.trim(this.text)}],["m",/^:not\((?:[\t\r\n\f\x20]*)/i,function(){this.text=this.yy.trim(this.text)}],["n",/^(?:(?:[\w]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))(?:[\w\d-]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))*)/,function(){this.text=this.yy.unEscape(this.text)}],["o",/^"(\\"|[^"])*"/,function(){this.text=this.yy.unEscapeStr(this.text)}],["o",/^'(\\'|[^'])*'/,function(){this.text=this.yy.unEscapeStr(this.text)}],["p",/^#(?:(?:[\w\d-]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))+)/,function(){this.text=this.yy.unEscape(this.text.slice(1))}],["q",/^\.(?:(?:[\w]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))(?:[\w\d-]|[^\x00-\xa0]|(?:\\[^\n\r\f0-9a-f]))*)/,function(){this.text=this.yy.unEscape(this.text.slice(1))}],["r",/^(?:[\t\r\n\f\x20]*),(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["s",/^::?/,0],["t",/^(?:[\t\r\n\f\x20]*)\+(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["u",/^(?:[\t\r\n\f\x20]*)>(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["v",/^(?:[\t\r\n\f\x20]*)~(?:[\t\r\n\f\x20]*)/,function(){this.text=this.yy.trim(this.text)}],["w",/^\*/,0],["x",/^(?:[\t\r\n\f\x20]+)/,0],["y",/^./,0]]});return r.lexer=g,g.symbolMap={$EOF:"a",LEFT_BRACKET:"b",RIGHT_BRACKET:"c",INCLUDES:"d",DASH_MATCH:"e",PREFIX_MATCH:"f",SUFFIX_MATCH:"g",SUBSTRING_MATCH:"h",ALL_MATCH:"i",FUNCTION:"j",PARAMETER:"k",RIGHT_PARENTHESES:"l",NOT:"m",IDENT:"n",STRING:"o",HASH:"p",CLASS:"q",COMMA:"r",COLON:"s",PLUS:"t",GREATER:"u",TILDE:"v",UNIVERSAL:"w",S:"x",INVALID:"y",$START:"z",selectors_group:"aa",selector:"ab",simple_selector_sequence:"ac",combinator:"ad",type_selector:"ae",id_selector:"af",class_selector:"ag",attrib_match:"ah",attrib:"ai",attrib_val:"aj",pseudo:"ak",negation:"al",negation_arg:"am",suffix_selector:"an",suffix_selectors:"ao"},r.productions=[["z",["aa"]],["aa",["ab"],function(){return[this.$1]}],["aa",["aa","r","ab"],function(){this.$1.push(this.$3)}],["ab",["ac"]],["ab",["ab","ad","ac"],function(){this.$1.nextCombinator=this.$3.prevCombinator=this.$2;var h;return h=this.$1.order=this.$1.order||0,this.$3.order=h+1,this.$3.prev=this.$1,this.$1.next=this.$3,this.$3}],["ad",["t"]],["ad",["u"]],["ad",["v"]],["ad",["x"],function(){return" "}],["ae",["n"],function(){return{t:"tag",value:this.$1}}],["ae",["w"],function(){return{t:"tag",value:this.$1}}],["af",["p"],function(){return{t:"id",value:this.$1}}],["ag",["q"],function(){return{t:"cls",value:this.$1}}],["ah",["f"]],["ah",["g"]],["ah",["h"]],["ah",["i"]],["ah",["d"]],["ah",["e"]],["ai",["b","n","c"],function(){return{t:"attrib",value:{ident:this.$2}}}],["aj",["n"]],["aj",["o"]],["ai",["b","n","ah","aj","c"],function(){return{t:"attrib",value:{ident:this.$2,match:this.$3,value:this.$4}}}],["ak",["s","j","k","l"],function(){return{t:"pseudo",value:{fn:this.$2.toLowerCase(),param:this.$3}}}],["ak",["s","n"],function(){return{t:"pseudo",value:{ident:this.$2.toLowerCase()}}}],["al",["m","am","l"],function(){return{t:"pseudo",value:{fn:"not",param:this.$2}}}],["am",["ae"]],["am",["af"]],["am",["ag"]],["am",["ai"]],["am",["ak"]],["an",["af"]],["an",["ag"]],["an",["ai"]],["an",["ak"]],["an",["al"]],["ao",["an"],function(){return[this.$1]}],["ao",["ao","an"],function(){this.$1.push(this.$2)}],["ac",["ae"]],["ac",["ao"],function(){return{suffix:this.$1}}],["ac",["ae","ao"],function(){return{t:"tag",value:this.$1.value,suffix:this.$2}}]],r.table={gotos:{0:{aa:8,ab:9,ae:10,af:11,ag:12,ai:13,ak:14,al:15,an:16,ao:17,ac:18},2:{ae:20,af:21,ag:22,ai:23,ak:24,am:25},9:{ad:33},10:{af:11,ag:12,ai:13,ak:14,al:15,an:16,ao:34},17:{af:11,ag:12,ai:13,ak:14,al:15,an:35},19:{ah:43},28:{ab:46,ae:10,af:11,ag:12,ai:13,ak:14,al:15,an:16,ao:17,ac:18},33:{ae:10,af:11,ag:12,ai:13,ak:14,al:15,an:16,ao:17,ac:47},34:{af:11,ag:12,ai:13,ak:14,al:15,an:35},43:{aj:50},46:{ad:33}},action:{0:{b:[1,n,1],m:[1,n,2],n:[1,n,3],p:[1,n,4],q:[1,n,5],s:[1,n,6],w:[1,n,7]},1:{n:[1,n,19]},2:{b:[1,n,1],n:[1,n,3],p:[1,n,4],q:[1,n,5],s:[1,n,6],w:[1,n,7]},3:{a:[2,9],r:[2,9],t:[2,9],u:[2,9],v:[2,9],x:[2,9],p:[2,9],q:[2,9],b:[2,9],s:[2,9],m:[2,9],l:[2,9]},4:{a:[2,11],r:[2,11],t:[2,11],u:[2,11],v:[2,11],x:[2,11],p:[2,11],q:[2,11],b:[2,11],s:[2,11],m:[2,11],l:[2,11]},5:{a:[2,12],r:[2,12],t:[2,12],u:[2,12],v:[2,12],x:[2,12],p:[2,12],q:[2,12],b:[2,12],s:[2,12],m:[2,12],l:[2,12]},6:{j:[1,n,26],n:[1,n,27]},7:{a:[2,10],r:[2,10],t:[2,10],u:[2,10],v:[2,10],x:[2,10],p:[2,10],q:[2,10],b:[2,10],s:[2,10],m:[2,10],l:[2,10]},8:{a:[0],r:[1,n,28]},9:{a:[2,1],r:[2,1],t:[1,n,29],u:[1,n,30],v:[1,n,31],x:[1,n,32]},10:{a:[2,38],r:[2,38],t:[2,38],u:[2,38],v:[2,38],x:[2,38],b:[1,n,1],m:[1,n,2],p:[1,n,4],q:[1,n,5],s:[1,n,6]},11:{a:[2,31],r:[2,31],t:[2,31],u:[2,31],v:[2,31],x:[2,31],p:[2,31],q:[2,31],b:[2,31],s:[2,31],m:[2,31]},12:{a:[2,32],r:[2,32],t:[2,32],u:[2,32],v:[2,32],x:[2,32],p:[2,32],q:[2,32],b:[2,32],s:[2,32],m:[2,32]},13:{a:[2,33],r:[2,33],t:[2,33],u:[2,33],v:[2,33],x:[2,33],p:[2,33],q:[2,33],b:[2,33],s:[2,33],m:[2,33]},14:{a:[2,34],r:[2,34],t:[2,34],u:[2,34],v:[2,34],x:[2,34],p:[2,34],q:[2,34],b:[2,34],s:[2,34],m:[2,34]},15:{a:[2,35],r:[2,35],t:[2,35],u:[2,35],v:[2,35],x:[2,35],p:[2,35],q:[2,35],b:[2,35],s:[2,35],m:[2,35]},16:{a:[2,36],r:[2,36],t:[2,36],u:[2,36],v:[2,36],x:[2,36],p:[2,36],q:[2,36],b:[2,36],s:[2,36],m:[2,36]},17:{a:[2,39],r:[2,39],t:[2,39],u:[2,39],v:[2,39],x:[2,39],b:[1,n,1],m:[1,n,2],p:[1,n,4],q:[1,n,5],s:[1,n,6]},18:{a:[2,3],r:[2,3],t:[2,3],u:[2,3],v:[2,3],x:[2,3]},19:{c:[1,n,36],d:[1,n,37],e:[1,n,38],f:[1,n,39],g:[1,n,40],h:[1,n,41],i:[1,n,42]},20:{l:[2,26]},21:{l:[2,27]},22:{l:[2,28]},23:{l:[2,29]},24:{l:[2,30]},25:{l:[1,n,44]},26:{k:[1,n,45]},27:{a:[2,24],r:[2,24],t:[2,24],u:[2,24],v:[2,24],x:[2,24],p:[2,24],q:[2,24],b:[2,24],s:[2,24],m:[2,24],l:[2,24]},28:{b:[1,n,1],m:[1,n,2],n:[1,n,3],p:[1,n,4],q:[1,n,5],s:[1,n,6],w:[1,n,7]},29:{n:[2,5],w:[2,5],p:[2,5],q:[2,5],b:[2,5],s:[2,5],m:[2,5]},30:{n:[2,6],w:[2,6],p:[2,6],q:[2,6],b:[2,6],s:[2,6],m:[2,6]},31:{n:[2,7],w:[2,7],p:[2,7],q:[2,7],b:[2,7],s:[2,7],m:[2,7]},32:{n:[2,8],w:[2,8],p:[2,8],q:[2,8],b:[2,8],s:[2,8],m:[2,8]},33:{b:[1,n,1],m:[1,n,2],n:[1,n,3],p:[1,n,4],q:[1,n,5],s:[1,n,6],w:[1,n,7]},34:{a:[2,40],r:[2,40],t:[2,40],u:[2,40],v:[2,40],x:[2,40],b:[1,n,1],m:[1,n,2],p:[1,n,4],q:[1,n,5],s:[1,n,6]},35:{a:[2,37],r:[2,37],t:[2,37],u:[2,37],v:[2,37],x:[2,37],p:[2,37],q:[2,37],b:[2,37],s:[2,37],m:[2,37]},36:{a:[2,19],r:[2,19],t:[2,19],u:[2,19],v:[2,19],x:[2,19],p:[2,19],q:[2,19],b:[2,19],s:[2,19],m:[2,19],l:[2,19]},37:{n:[2,17],o:[2,17]},38:{n:[2,18],o:[2,18]},39:{n:[2,13],o:[2,13]},40:{n:[2,14],o:[2,14]},41:{n:[2,15],o:[2,15]},42:{n:[2,16],o:[2,16]},43:{n:[1,n,48],o:[1,n,49]},44:{a:[2,25],r:[2,25],t:[2,25],u:[2,25],v:[2,25],x:[2,25],p:[2,25],q:[2,25],b:[2,25],s:[2,25],m:[2,25]},45:{l:[1,n,51]},46:{a:[2,2],r:[2,2],t:[1,n,29],u:[1,n,30],v:[1,n,31],x:[1,n,32]},47:{a:[2,4],r:[2,4],t:[2,4],u:[2,4],v:[2,4],x:[2,4]},48:{c:[2,20]},49:{c:[2,21]},50:{c:[1,n,52]},51:{a:[2,23],r:[2,23],t:[2,23],u:[2,23],v:[2,23],x:[2,23],p:[2,23],q:[2,23],b:[2,23],s:[2,23],m:[2,23],l:[2,23]},52:{a:[2,22],r:[2,22],t:[2,22],u:[2,22],v:[2,22],x:[2,22],p:[2,22],q:[2,22],b:[2,22],s:[2,22],m:[2,22],l:[2,22]}}},r.parse=function(m,w){var y=this,O=y.lexer,L,j,x,I=y.table,v=I.gotos,p=I.action,s=y.productions,D=[null],S=w?"in file: "+w+" ":"",F=[0];for(O.resetInput(m);;){if(L=F[F.length-1],j||(j=O.lex()),j?x=p[L]&&p[L][j]:x=null,!x){var R=[],T;if(p[L])for(var nt in p[L])R.push(y.lexer.mapReverseSymbol(nt));throw T=S+"syntax error at line "+O.lineNumber+`:
`+O.showDebugInfo()+`
expect `+R.join(", "),new Error(T)}switch(x[i.TYPE_INDEX]){case i.SHIFT_TYPE:F.push(j),D.push(O.text),F.push(x[i.TO_INDEX]),j=null;break;case i.REDUCE_TYPE:var W=s[x[i.PRODUCTION_INDEX]],Y=W.symbol||W[0],ot=W.action||W[2],M=W.rhs||W[1],ut=M.length,Q=0,st,K=D[D.length-ut];for(st=n,y.$$=K;Q<ut;Q++)y["$"+(ut-Q)]=D[D.length-1-Q];ot&&(st=ot.call(y)),st!==n?K=st:K=y.$$,F=F.slice(0,-1*ut*2),D=D.slice(0,-1*ut),F.push(Y),D.push(K);var _t=v[F[F.length-2]][F[F.length-1]];F.push(_t);break;case i.ACCEPT_TYPE:return K}}},r}();t.exports=e})(kn);var zr=kn.exports,ft=Wr,De=zr,Xt="_ks_data_selector_id_",we={},Tt,an=0,Bt={},Ht=function(t,e){return Tt?ft.getSimpleAttr(t,e):ft.attr(t,e)},Yr=ft.hasSingleClass,Hr=ft.isTag,Gr=/^(([+-]?(?:\d+)?)?n)?([+-]?\d+)?$/,Vr=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Kr=function(t,e){var n="0x"+e-65536;return isNaN(n)?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,n&1023|56320)},Wt,qt={"nth-child":function(t,e){var n=Qt(e),r=n.a,i=n.b;if(r===0&&i===0)return 0;var a=0,o=t.parentNode;if(o){for(var l=o.childNodes,d=0,b,g,h=l.length;d<h;d++)if(b=l[d],b.nodeType===1&&(a++,g=Jt(a,r,i,b===t),g!==void 0))return g}return 0},"nth-last-child":function(t,e){var n=Qt(e),r=n.a,i=n.b;if(r===0&&i===0)return 0;var a=0,o=t.parentNode;if(o){for(var l=o.childNodes,d=l.length,b=d-1,g,h;b>=0;b--)if(g=l[b],g.nodeType===1&&(a++,h=Jt(a,r,i,g===t),h!==void 0))return h}return 0},"nth-of-type":function(t,e){var n=Qt(e),r=n.a,i=n.b;if(r===0&&i===0)return 0;var a=0,o=t.parentNode;if(o){for(var l=o.childNodes,d=t.tagName,b=0,g,h,m=l.length;b<m;b++)if(g=l[b],g.tagName===d&&(a++,h=Jt(a,r,i,g===t),h!==void 0))return h}return 0},"nth-last-of-type":function(t,e){var n=Qt(e),r=n.a,i=n.b;if(r===0&&i===0)return 0;var a=0,o=t.parentNode;if(o){for(var l=o.childNodes,d=l.length,b=t.tagName,g=d-1,h,m;g>=0;g--)if(h=l[g],h.tagName===b&&(a++,m=Jt(a,r,i,h===t),m!==void 0))return m}return 0},lang:function(t,e){var n;e=jn(e.toLowerCase());do if(n=Tt?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1},not:function(t,e){return!Wt[e.t](t,e.value)}},Ot={empty:function(t){for(var e=t.childNodes,n=0,r=e.length-1,i,a;n<r;n++)if(i=e[n],a=i.nodeType,a===1||a===3||a===4||a===5)return 0;return 1},root:function(t){return t.nodeType===9?!0:t.ownerDocument&&t===t.ownerDocument.documentElement},"first-child":function(t){return qt["nth-child"](t,1)},"last-child":function(t){return qt["nth-last-child"](t,1)},"first-of-type":function(t){return qt["nth-of-type"](t,1)},"last-of-type":function(t){return qt["nth-last-of-type"](t,1)},"only-child":function(t){return Ot["first-child"](t)&&Ot["last-child"](t)},"only-of-type":function(t){return Ot["first-of-type"](t)&&Ot["last-of-type"](t)},focus:function(t){var e=t.ownerDocument;return e&&t===e.activeElement&&(!e.hasFocus||e.hasFocus())&&!!(t.type||t.href||t.tabIndex>=0)},target:function(t){var e=location.hash;return e&&e.slice(1)===Ht(t,"id")},enabled:function(t){return!t.disabled},disabled:function(t){return t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return e==="input"&&t.checked||e==="option"&&t.selected}},Xr={"~=":function(t,e){return!e||e.indexOf(" ")>-1?0:(" "+t+" ").indexOf(" "+e+" ")!==-1},"|=":function(t,e){return(" "+t).indexOf(" "+e+"-")!==-1},"^=":function(t,e){return e&&ft.startsWith(t,e)},"$=":function(t,e){return e&&ft.endsWith(t,e)},"*=":function(t,e){return e&&t.indexOf(e)!==-1},"=":function(t,e){return t===e}},At={">":{dir:"parentNode",immediate:1}," ":{dir:"parentNode"},"+":{dir:"previousSibling",immediate:1},"~":{dir:"previousSibling"}};Wt={tag:Hr,cls:Yr,id:function(t,e){return Ht(t,"id")===e},attrib:function(t,e){var n=e.ident;Tt||(n=n.toLowerCase());var r=Ht(t,n),i=e.match;if(!i&&r!==void 0)return 1;if(i){if(r===void 0)return 0;var a=Xr[i];if(a)return a(r+"",e.value+"")}return 0},pseudo:function(t,e){var n,r,i;if(r=e.fn){if(!(n=qt[r]))throw new SyntaxError("Syntax error: not support pseudo: "+r);return n(t,e.param)}if(i=e.ident){if(!Ot[i])throw new SyntaxError("Syntax error: not support pseudo: "+i);return Ot[i](t)}return 0}};function jn(t){return t.replace(Vr,Kr)}De.lexer.yy={trim:ft.trim,unEscape:jn,unEscapeStr:function(t){return this.unEscape(t.slice(1,-1))}};function Qr(){Bt={}}function Dt(t,e){do t=t[e];while(t&&t.nodeType!==1);return t}function Qt(t){var e=0,n,r=0;return typeof t=="number"?r=t:t==="odd"?(e=2,r=1):t==="even"?(e=2,r=0):(n=t.replace(/\s/g,"").match(Gr))&&(n[1]?(e=parseInt(n[2],10),isNaN(e)&&(n[2]==="-"?e=-1:e=1)):e=0,r=parseInt(n[3],10)||0),{a:e,b:r}}function Jt(t,e,n,r){if(e===0){if(t===n)return r}else if((t-n)/e>=0&&(t-n)%e===0&&r)return 1}function Jr(t){var e=t&&(t.ownerDocument||t).documentElement;return e?e.nodeName.toLowerCase()!=="html":!1}function Zr(t,e){return Pt(t,null,e)}function Ln(t,e){if(!e)return!0;if(!t||t.nodeType===9)return!1;var n=1,r=e.suffix,i,a;if(e.t==="tag"&&(n&=Wt.tag(t,e.value)),n&&r)for(i=r.length,a=0;n&&a<i;a++){var o=r[a],l=o.t;Wt[l]&&(n&=Wt[l](t,o.value))}return n}function ti(t,e){var n=1,r=t,i,a=e;do if(n&=Ln(t,e),n){if(e=e&&e.prev,!e)return!0;if(i=At[e.nextCombinator],t=Dt(t,i.dir),!i.immediate)return{el:t,match:e}}else return i=At[e.nextCombinator],i.immediate?{el:Dt(r,At[a.nextCombinator].dir),match:a}:{el:t&&Dt(t,i.dir),match:e};while(t);return{el:Dt(r,At[a.nextCombinator].dir),match:a}}function ei(t,e){var n,r=e;do{if(!Ln(t,r))return null;if(r=r.prev,!r)return!0;n=At[r.nextCombinator],t=Dt(t,n.dir)}while(t&&n.immediate);return t?{el:t,match:r}:null}function ni(t){var e;return Tt?(e=t.getAttribute(Xt))||t.setAttribute(Xt,e=+new Date+"_"+ ++an):(e=t[Xt])||(e=t[Xt]=+new Date+"_"+ ++an),e}function Un(t,e){var n=ni(t),r;return r=n+"_"+(e.order||0),r in Bt||(Bt[r]=ri(t,e)),Bt[r]}function ri(t,e){var n=ti(t,e);if(n===!0)return!0;for(t=n.el,e=n.match;t;){if(Un(t,e))return!0;t=Dt(t,At[e.nextCombinator].dir)}return!1}function Pt(t,e,n){we[t]||(we[t]=De.parse(t));var r=we[t],i=0,a=r.length,o,l,d=[];for(n&&(e=e||n[0].ownerDocument),o=e&&e.ownerDocument||typeof document<"u"&&document,e&&e.nodeType===9&&!o&&(o=e),e=e||o,Tt=Jr(e);i<a;i++){Qr(),l=r[i];var b=l.suffix,g,h,m,w=n,y,O=null;if(!w){if(b&&!Tt)for(g=0,h=b.length;g<h;g++){var L=b[g];if(L.t==="id"){O=L.value;break}}if(O){var j=!e.getElementById,x=ft.contains(o,e),I=j?x?o.getElementById(O):null:e.getElementById(O);if(!I&&j||I&&Ht(I,"id")!==O){for(var v=ft.getElementsByTagName("*",e),p=v.length,s=0;s<p;s++)if(I=v[s],Ht(I,"id")===O){w=[I];break}s===p&&(w=[])}else x&&I&&e!==o&&(I=ft.contains(e,I)?I:null),w=I?[I]:[]}else w=ft.getElementsByTagName(l.value||"*",e)}if(m=0,y=w.length,!!y)for(;m<y;m++){var D=w[m],S=ei(D,l);(S===!0||S&&Un(S.el,S.match))&&d.push(D)}}return a>1&&(d=ft.unique(d)),d}var ii=Pt;Pt.parse=function(t){return De.parse(t)};Pt.matches=Zr;Pt.util=ft;Pt.version="@VERSION@";var ai=ii,on=/-+([a-z])/gi;function oi(t,e,n){return n!==0?e.toUpperCase():e}function si(t){var e=t.replace(on,oi);return on.lastIndex=0,e}var Bn=si;function ui(t){return typeof t=="string"}var li=ui;function ci(t){return typeof t>"u"}var fi=ci;function di(t){for(var e=arguments,n,r=1;r<e.length;r++){n=e[r];for(var i in n)t[i]=n[i]}return t}var hi=di;function mi(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var qn=mi,pi=Bn;function yi(t){var e=pi(t);return e.charAt(0).toUpperCase()===t.charAt(0)?t.charAt(0)+e.slice(1):t.charAt(0)==="-"?e.indexOf("ms")===0?e:e.charAt(0).toUpperCase()+e.slice(1):e}var gi=yi,sn=A,bi=oe,vi=ai,xi=Bn,Ei=li,un=fi,_e=hi,ln=qn,Se=gi;function wi(){function t(n,r){this.nodeName=n,this.parentNode=r,this.childNodes=[],this.eventListeners={},this.text="";var i=this,a=this.props={ref:function(o){i.component=o},style:{setProperty:function(o,l){a.style[Se(o)]=l},getProperty:function(o){return a.style[Se(o)]||""},getPropertyValue:function(o){return a.style.getProperty(o)},removeProperty:function(o){delete a.style[Se(o)]}}};this.style=a.style}t.ELEMENT_NODE=1,t.DOCUMENT_POSITION_DISCONNECTED=1,t.DOCUMENT_POSITION_PRECEDING=2,t.DOCUMENT_POSITION_FOLLOWING=4,t.DOCUMENT_POSITION_CONTAINS=8,t.DOCUMENT_POSITION_CONTAINED_BY=16,t.prototype.nodeType=1,t.prototype.eventNameMappings={blur:"onBlur",change:"onChange",click:"onClick",contextmenu:"onContextMenu",copy:"onCopy",cut:"onCut",doubleclick:"onDoubleClick",drag:"onDrag",dragend:"onDragEnd",dragenter:"onDragEnter",dragexit:"onDragExit",dragleave:"onDragLeave",dragover:"onDragOver",dragstart:"onDragStart",drop:"onDrop",error:"onError",focus:"onFocus",input:"onInput",keydown:"onKeyDown",keypress:"onKeyPress",keyup:"onKeyUp",load:"onLoad",mousedown:"onMouseDown",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseover:"onMouseOver",mouseup:"onMouseUp",paste:"onPaste",scroll:"onScroll",submit:"onSubmit",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",wheel:"onWheel"},t.prototype.skipNameTransformationExpressions=[/^data-/,/^aria-/],t.prototype.attributeNameMappings={class:"className"},t.prototype.attributeToPropName=function(n){var r=this.skipNameTransformationExpressions.map(function(i){return i.test(n)});return r.some(Boolean)?n:this.attributeNameMappings[n]||xi(n)},t.prototype.setAttribute=function(n,r){if(n==="style"&&Ei(r)){var i=bi.parse(r);for(var a in i)this.style.setProperty(a,i[a])}else this.props[this.attributeToPropName(n)]=r},t.prototype.getAttribute=function(n){return this.props[this.attributeToPropName(n)]},t.prototype.getAttributeNode=function(n){var r=this.getAttribute(n);if(!un(r))return{value:r,specified:!0}},t.prototype.removeAttribute=function(n){delete this.props[this.attributeToPropName(n)]},t.prototype.eventToPropName=function(n){return this.eventNameMappings[n]||n},t.prototype.addEventListener=function(n,r){var i=this.eventToPropName(n);this.eventListeners[i]=this.eventListeners[i]||[],this.eventListeners[i].push(r)},t.prototype.removeEventListener=function(n,r){var i=this.eventListeners[this.eventToPropName(n)];if(i){var a=i.indexOf(r);a!==-1&&i.splice(a,1)}},t.prototype.appendChild=function(n){return n instanceof t&&(n.parentNode=this),this.childNodes.push(n),n},t.prototype.insertBefore=function(n,r){var i=this.childNodes.indexOf(r);return n.parentNode=this,i!==-1?this.childNodes.splice(i,0,n):this.childNodes.push(n),n},t.prototype.removeChild=function(n){var r=this.childNodes.indexOf(n);this.childNodes.splice(r,1)},t.prototype.querySelector=function(){return this.querySelectorAll.apply(this,arguments)[0]||null},t.prototype.querySelectorAll=function(n){if(!n)throw new Error("Not enough arguments");return vi(n,this)},t.prototype.getElementsByTagName=function(n){var r=this.children;if(r.length===0)return[];var i;n!=="*"?i=r.filter(function(o){return o.nodeName===n}):i=r;var a=r.map(function(o){return o.getElementsByTagName(n)});return i.concat.apply(i,a)},t.prototype.getElementById=function(n){var r=this.children;if(r.length===0)return null;var i=r.filter(function(o){return o.getAttribute("id")===n})[0];if(i)return i;var a=r.map(function(o){return o.getElementById(n)});return a.filter(function(o){return o!==null})[0]||null},t.prototype.getBoundingClientRect=function(){if(this.component)return this.component.getBoundingClientRect()},t.prototype.cloneNode=function(n){n===void 0&&(n=!0);var r=new t(this.nodeName,this.parentNode);this.nodeType&&(r.nodeType=this.nodeType);var i;for(i in this.props)this.props.hasOwnProperty(i)&&i!=="ref"&&i!=="style"&&(r.props[i]=this.props[i]);for(i in this.style)this.style.hasOwnProperty(i)&&["setProperty","getProperty","getPropertyValue","removeProperty"].indexOf(i)===-1&&(r.style[i]=this.style[i]);return n&&(r.childNodes=this.childNodes.map(function(a){return a.nodeType?(a=a.cloneNode(!0),a instanceof t&&(a.parentNode=r),a):sn.cloneElement(a)})),r},t.prototype.toReact=function(n){n=n||0;var r=_e({},this.props);r.style=_e({},r.style);var i=this;function a(){return"faux-dom-"+n}return un(r.key)&&(r.key=a()),delete r.style.setProperty,delete r.style.getProperty,delete r.style.getPropertyValue,delete r.style.removeProperty,_e(r,ln(this.eventListeners,function(o){return function(l){var d;l&&(d=l.nativeEvent,d.syntheticEvent=l),ln(o,function(b){b.call(i,d)})}})),sn.createElement(this.nodeName,r,this.text||this.children.map(function(o,l){return o instanceof t?o.toReact(l):o}))},t.prototype.compareDocumentPosition=function(n){function r(h,m,w){return h.reduce(function(y,O){return y!==!1?y:O===m?m:O===w?w:O.childNodes?r(O.childNodes,m,w):!1},!1)}function i(h,m){for(;m.parentNode;)if(m=m.parentNode,m===h)return!0;return!1}function a(h,m){return i(h,m)?t.DOCUMENT_POSITION_CONTAINED_BY+t.DOCUMENT_POSITION_FOLLOWING:i(m,h)?t.DOCUMENT_POSITION_CONTAINS+t.DOCUMENT_POSITION_PRECEDING:!1}function o(h){for(;h.parentNode;)h=h.parentNode;return h}if(this===n)return 0;var l=o(this),d=o(n);if(l!==d)return t.DOCUMENT_POSITION_DISCONNECTED;var b=a(this,n);if(b)return b;var g=r([l],this,n);return g===this?t.DOCUMENT_POSITION_FOLLOWING:g===n?t.DOCUMENT_POSITION_PRECEDING:t.DOCUMENT_POSITION_DISCONNECTED},Object.defineProperties(t.prototype,{nextSibling:{get:function(){var n=this.parentNode.children,r=n.indexOf(this);return n[r+1]}},previousSibling:{get:function(){var n=this.parentNode.children,r=n.indexOf(this);return n[r-1]}},innerHTML:{get:function(){return this.text},set:function(n){this.text=n}},textContent:{get:function(){return this.text},set:function(n){this.text=n}},children:{get:function(){return this.childNodes.filter(function(n){return n.nodeType?n.nodeType===1:!0})}}});var e=["setAttribute","getAttribute","getAttributeNode","removeAttribute","getElementsByTagName","getElementById"];return e.forEach(function(n){var r=t.prototype[n];t.prototype[n+"NS"]=function(){return r.apply(this,Array.prototype.slice.call(arguments,1))}}),t}var _i=wi;function Si(){var t={getComputedStyle:function(e){return{getPropertyValue:e.style.getProperty}}};return t}var Ni=Si;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var cn=Object.getOwnPropertySymbols,Ii=Object.prototype.hasOwnProperty,Ci=Object.prototype.propertyIsEnumerable;function Mi(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Oi(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Ai=Oi()?Object.assign:function(t,e){for(var n,r=Mi(t),i,a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var o in n)Ii.call(n,o)&&(r[o]=n[o]);if(cn){i=cn(n);for(var l=0;l<i.length;l++)Ci.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r},Zt=Ai,Di={};function pt(t,e,n,r,i,a,o,l){if(!t){var d;if(e===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var b=[n,r,i,a,o,l],g=0;d=new Error(e.replace(/%s/g,function(){return b[g++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}}var fn="mixins";function Ti(t,e,n){var r=[],i={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},a={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},o={displayName:function(v,p){v.displayName=p},mixins:function(v,p){if(p)for(var s=0;s<p.length;s++)d(v,p[s])},childContextTypes:function(v,p){v.childContextTypes=Zt({},v.childContextTypes,p)},contextTypes:function(v,p){v.contextTypes=Zt({},v.contextTypes,p)},getDefaultProps:function(v,p){v.getDefaultProps?v.getDefaultProps=h(v.getDefaultProps,p):v.getDefaultProps=p},propTypes:function(v,p){v.propTypes=Zt({},v.propTypes,p)},statics:function(v,p){b(v,p)},autobind:function(){}};function l(v,p){var s=i.hasOwnProperty(p)?i[p]:null;j.hasOwnProperty(p)&&pt(s==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",p),v&&pt(s==="DEFINE_MANY"||s==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",p)}function d(v,p){if(p){pt(typeof p!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),pt(!e(p),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var s=v.prototype,D=s.__reactAutoBindPairs;p.hasOwnProperty(fn)&&o.mixins(v,p.mixins);for(var S in p)if(p.hasOwnProperty(S)&&S!==fn){var F=p[S],R=s.hasOwnProperty(S);if(l(R,S),o.hasOwnProperty(S))o[S](v,F);else{var T=i.hasOwnProperty(S),nt=typeof F=="function",W=nt&&!T&&!R&&p.autobind!==!1;if(W)D.push(S,F),s[S]=F;else if(R){var Y=i[S];pt(T&&(Y==="DEFINE_MANY_MERGED"||Y==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",Y,S),Y==="DEFINE_MANY_MERGED"?s[S]=h(s[S],F):Y==="DEFINE_MANY"&&(s[S]=m(s[S],F))}else s[S]=F}}}}function b(v,p){if(p)for(var s in p){var D=p[s];if(p.hasOwnProperty(s)){var S=s in o;pt(!S,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',s);var F=s in v;if(F){var R=a.hasOwnProperty(s)?a[s]:null;pt(R==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",s),v[s]=h(v[s],D);return}v[s]=D}}}function g(v,p){pt(v&&p&&typeof v=="object"&&typeof p=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var s in p)p.hasOwnProperty(s)&&(pt(v[s]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",s),v[s]=p[s]);return v}function h(v,p){return function(){var D=v.apply(this,arguments),S=p.apply(this,arguments);if(D==null)return S;if(S==null)return D;var F={};return g(F,D),g(F,S),F}}function m(v,p){return function(){v.apply(this,arguments),p.apply(this,arguments)}}function w(v,p){var s=p.bind(v);return s}function y(v){for(var p=v.__reactAutoBindPairs,s=0;s<p.length;s+=2){var D=p[s],S=p[s+1];v[D]=w(v,S)}}var O={componentDidMount:function(){this.__isMounted=!0}},L={componentWillUnmount:function(){this.__isMounted=!1}},j={replaceState:function(v,p){this.updater.enqueueReplaceState(this,v,p)},isMounted:function(){return!!this.__isMounted}},x=function(){};Zt(x.prototype,t.prototype,j);function I(v){var p=function(D,S,F){this.__reactAutoBindPairs.length&&y(this),this.props=D,this.context=S,this.refs=Di,this.updater=F||n,this.state=null;var R=this.getInitialState?this.getInitialState():null;pt(typeof R=="object"&&!Array.isArray(R),"%s.getInitialState(): must return an object or null",p.displayName||"ReactCompositeComponent"),this.state=R};p.prototype=new x,p.prototype.constructor=p,p.prototype.__reactAutoBindPairs=[],r.forEach(d.bind(null,p)),d(p,O),d(p,v),d(p,L),p.getDefaultProps&&(p.defaultProps=p.getDefaultProps()),pt(p.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var s in i)p.prototype[s]||(p.prototype[s]=null);return p}return I}var Pi=Ti,ie=A,Fi=Pi;if(typeof ie>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var Ri=new ie.Component().updater,ki=Fi(ie.Component,ie.isValidElement,Ri),$n={exports:{}},V={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at=typeof Symbol=="function"&&Symbol.for,Te=at?Symbol.for("react.element"):60103,Pe=at?Symbol.for("react.portal"):60106,se=at?Symbol.for("react.fragment"):60107,ue=at?Symbol.for("react.strict_mode"):60108,le=at?Symbol.for("react.profiler"):60114,ce=at?Symbol.for("react.provider"):60109,fe=at?Symbol.for("react.context"):60110,Fe=at?Symbol.for("react.async_mode"):60111,de=at?Symbol.for("react.concurrent_mode"):60111,he=at?Symbol.for("react.forward_ref"):60112,me=at?Symbol.for("react.suspense"):60113,ji=at?Symbol.for("react.suspense_list"):60120,pe=at?Symbol.for("react.memo"):60115,ye=at?Symbol.for("react.lazy"):60116,Li=at?Symbol.for("react.block"):60121,Ui=at?Symbol.for("react.fundamental"):60117,Bi=at?Symbol.for("react.responder"):60118,qi=at?Symbol.for("react.scope"):60119;function ht(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Te:switch(t=t.type,t){case Fe:case de:case se:case le:case ue:case me:return t;default:switch(t=t&&t.$$typeof,t){case fe:case he:case ye:case pe:case ce:return t;default:return e}}case Pe:return e}}}function Wn(t){return ht(t)===de}V.AsyncMode=Fe;V.ConcurrentMode=de;V.ContextConsumer=fe;V.ContextProvider=ce;V.Element=Te;V.ForwardRef=he;V.Fragment=se;V.Lazy=ye;V.Memo=pe;V.Portal=Pe;V.Profiler=le;V.StrictMode=ue;V.Suspense=me;V.isAsyncMode=function(t){return Wn(t)||ht(t)===Fe};V.isConcurrentMode=Wn;V.isContextConsumer=function(t){return ht(t)===fe};V.isContextProvider=function(t){return ht(t)===ce};V.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Te};V.isForwardRef=function(t){return ht(t)===he};V.isFragment=function(t){return ht(t)===se};V.isLazy=function(t){return ht(t)===ye};V.isMemo=function(t){return ht(t)===pe};V.isPortal=function(t){return ht(t)===Pe};V.isProfiler=function(t){return ht(t)===le};V.isStrictMode=function(t){return ht(t)===ue};V.isSuspense=function(t){return ht(t)===me};V.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===se||t===de||t===le||t===ue||t===me||t===ji||typeof t=="object"&&t!==null&&(t.$$typeof===ye||t.$$typeof===pe||t.$$typeof===ce||t.$$typeof===fe||t.$$typeof===he||t.$$typeof===Ui||t.$$typeof===Bi||t.$$typeof===qi||t.$$typeof===Li)};V.typeOf=ht;$n.exports=V;var $i=$n.exports,Re=$i,Wi={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},zi={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Yi={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ke={};ke[Re.ForwardRef]=Yi;ke[Re.Memo]=zn;function dn(t){return Re.isMemo(t)?zn:ke[t.$$typeof]||Wi}var Hi=Object.defineProperty,Gi=Object.getOwnPropertyNames,hn=Object.getOwnPropertySymbols,Vi=Object.getOwnPropertyDescriptor,Ki=Object.getPrototypeOf,mn=Object.prototype;function Yn(t,e,n){if(typeof e!="string"){if(mn){var r=Ki(e);r&&r!==mn&&Yn(t,r,n)}var i=Gi(e);hn&&(i=i.concat(hn(e)));for(var a=dn(t),o=dn(e),l=0;l<i.length;++l){var d=i[l];if(!zi[d]&&!(n&&n[d])&&!(o&&o[d])&&!(a&&a[d])){var b=Vi(e,d);try{Hi(t,d,b)}catch{}}}}return t}var Xi=Yn,Qi=A,Ji=ki,Zi=qn,ta=Xi;function ea(t){function e(n){var r=Ji({componentWillMount:function(){this.connectedFauxDOM={},this.animateFauxDOMUntil=0},componentWillUnmount:function(){this.stopAnimatingFauxDOM(),this.stopDrawFauxDOM()},connectFauxDOM:function(i,a,o){return(!this.connectedFauxDOM[a]||o)&&(this.connectedFauxDOM[a]=typeof i!="string"?i:new t(i),this.drawFauxDOMTimeout=setTimeout(this.drawFauxDOM)),this.connectedFauxDOM[a]},drawFauxDOM:function(){var i=Zi(this.connectedFauxDOM,function(a){return a.toReact()});this.setState(i)},animateFauxDOM:function(i){this.animateFauxDOMUntil=Math.max(Date.now()+i,this.animateFauxDOMUntil),this.fauxDOMAnimationInterval||(this.fauxDOMAnimationInterval=setInterval((function(){Date.now()<this.animateFauxDOMUntil?this.drawFauxDOM():this.stopAnimatingFauxDOM()}).bind(this),16))},stopAnimatingFauxDOM:function(){this.fauxDOMAnimationInterval=clearInterval(this.fauxDOMAnimationInterval),this.animateFauxDOMUntil=0},stopDrawFauxDOM:function(){this.drawFauxDOMTimeout=clearTimeout(this.drawFauxDOMTimeout)},isAnimatingFauxDOM:function(){return!!this.fauxDOMAnimationInterval},render:function(){var i=Object.assign({},this.props,this.state,{connectFauxDOM:this.connectFauxDOM,drawFauxDOM:this.drawFauxDOM,animateFauxDOM:this.animateFauxDOM,stopAnimatingFauxDOM:this.stopAnimatingFauxDOM,isAnimatingFauxDOM:this.isAnimatingFauxDOM});return Qi.createElement(n,i)}});return r.displayName="WithFauxDOM("+na(n)+")",ta(r,n),r}return e}function na(t){return t.displayName||t.name||"Component"}var ra=ea,ia=_i,aa=Ni,oa=ra;function sa(){var t=ia(),e=aa(),n={Element:t,defaultView:e,withFauxDOM:oa(t),createElement:function(r){return new t(r)},createElementNS:function(r,i){return this.createElement(i)},compareDocumentPosition:function(){return 8}};return t.prototype.ownerDocument=n,n}var ua=sa,la=ua,ca=la();const fa=Me(ca);var da={value:function(){}};function Hn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new te(n)}function te(t){this._=t}function ha(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}te.prototype=Hn.prototype={constructor:te,on:function(t,e){var n=this._,r=ha(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=ma(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=pn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=pn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new te(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function ma(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function pn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=da,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const pa=Object.freeze(Object.defineProperty({__proto__:null,dispatch:Hn},Symbol.toStringTag,{value:"Module"})),ya=yr(pa),ga=ya.dispatch,Ne=Math.PI/180,ba={archimedean:Gn,rectangular:Oa},$t=64,ee=2048;var va=function(){var t=[256,256],e=xa,n=Ea,r=wa,i=yn,a=yn,o=_a,l=Sa,d=Gn,b=[],g=1/0,h=ga("word","end"),m=null,w=Math.random,y={},O=Da;y.canvas=function(x){return arguments.length?(O=wt(x),y):O},y.start=function(){var x=L(O()),I=Aa((t[0]>>5)*t[1]),v=null,p=b.length,s=-1,D=[],S=b.map(function(R,T){return R.text=e.call(this,R,T),R.font=n.call(this,R,T),R.style=i.call(this,R,T),R.weight=a.call(this,R,T),R.rotate=o.call(this,R,T),R.size=~~r.call(this,R,T),R.padding=l.call(this,R,T),R}).sort(function(R,T){return T.size-R.size});return m&&clearInterval(m),m=setInterval(F,0),F(),y;function F(){for(var R=Date.now();Date.now()-R<g&&++s<p&&m;){var T=S[s];T.x=t[0]*(w()+.5)>>1,T.y=t[1]*(w()+.5)>>1,Na(x,T,S,s),T.hasText&&j(I,T,v)&&(D.push(T),h.call("word",y,T),v?Ca(v,T):v=[{x:T.x+T.x0,y:T.y+T.y0},{x:T.x+T.x1,y:T.y+T.y1}],T.x-=t[0]>>1,T.y-=t[1]>>1)}s>=p&&(y.stop(),h.call("end",y,D,v))}},y.stop=function(){m&&(clearInterval(m),m=null);for(const x of b)delete x.sprite;return y};function L(x){const I=x.getContext("2d",{willReadFrequently:!0});x.width=x.height=1;const v=Math.sqrt(I.getImageData(0,0,1,1).data.length>>2);return x.width=($t<<5)/v,x.height=ee/v,I.fillStyle=I.strokeStyle="red",{context:I,ratio:v}}function j(x,I,v){t[0],t[1];for(var p=I.x,s=I.y,D=Math.sqrt(t[0]*t[0]+t[1]*t[1]),S=d(t),F=w()<.5?1:-1,R=-F,T,nt,W;(T=S(R+=F))&&(nt=~~T[0],W=~~T[1],!(Math.min(Math.abs(nt),Math.abs(W))>=D));)if(I.x=p+nt,I.y=s+W,!(I.x+I.x0<0||I.y+I.y0<0||I.x+I.x1>t[0]||I.y+I.y1>t[1])&&(!v||Ma(I,v))&&!Ia(I,x,t[0])){for(var Y=I.sprite,ot=I.width>>5,M=t[0]>>5,ut=I.x-(ot<<4),Q=ut&127,st=32-Q,K=I.y1-I.y0,_t=(I.y+I.y0)*M+(ut>>5),St,Gt=0;Gt<K;Gt++){St=0;for(var bt=0;bt<=ot;bt++)x[_t+bt]|=St<<st|(bt<ot?(St=Y[Gt*ot+bt])>>>Q:0);_t+=M}return!0}return!1}return y.timeInterval=function(x){return arguments.length?(g=x??1/0,y):g},y.words=function(x){return arguments.length?(b=x,y):b},y.size=function(x){return arguments.length?(t=[+x[0],+x[1]],y):t},y.font=function(x){return arguments.length?(n=wt(x),y):n},y.fontStyle=function(x){return arguments.length?(i=wt(x),y):i},y.fontWeight=function(x){return arguments.length?(a=wt(x),y):a},y.rotate=function(x){return arguments.length?(o=wt(x),y):o},y.text=function(x){return arguments.length?(e=wt(x),y):e},y.spiral=function(x){return arguments.length?(d=ba[x]||x,y):d},y.fontSize=function(x){return arguments.length?(r=wt(x),y):r},y.padding=function(x){return arguments.length?(l=wt(x),y):l},y.random=function(x){return arguments.length?(w=x,y):w},y.on=function(){var x=h.on.apply(h,arguments);return x===h?y:x},y};function xa(t){return t.text}function Ea(){return"serif"}function yn(){return"normal"}function wa(t){return Math.sqrt(t.value)}function _a(){return(~~(random()*6)-3)*30}function Sa(){return 1}function Na(t,e,n,r){if(!e.sprite){var i=t.context,a=t.ratio;i.clearRect(0,0,($t<<5)/a,ee/a);var o=0,l=0,d=0,b=n.length;for(--r;++r<b;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/a)+"px "+e.font;const T=i.measureText(e.text),nt=-Math.floor(T.width/2);let W=(T.width+1)*a,Y=e.size<<1;if(e.rotate){var g=Math.sin(e.rotate*Ne),h=Math.cos(e.rotate*Ne),m=W*h,w=W*g,y=Y*h,O=Y*g;W=Math.max(Math.abs(m+O),Math.abs(m-O))+31>>5<<5,Y=~~Math.max(Math.abs(w+y),Math.abs(w-y))}else W=W+31>>5<<5;if(Y>d&&(d=Y),o+W>=$t<<5&&(o=0,l+=d,d=0),l+Y>=ee)break;i.translate((o+(W>>1))/a,(l+(Y>>1))/a),e.rotate&&i.rotate(e.rotate*Ne),i.fillText(e.text,nt,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,nt,0)),i.restore(),e.width=W,e.height=Y,e.xoff=o,e.yoff=l,e.x1=W>>1,e.y1=Y>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=W}for(var L=i.getImageData(0,0,($t<<5)/a,ee/a).data,j=[];--r>=0;)if(e=n[r],!!e.hasText){for(var x=e.width,I=x>>5,v=e.y1-e.y0,p=0;p<v*I;p++)j[p]=0;if(o=e.xoff,o==null)return;l=e.yoff;for(var s=0,D=-1,S=0;S<v;S++){for(var p=0;p<x;p++){var F=I*S+(p>>5),R=L[(l+S)*($t<<5)+(o+p)<<2]?1<<31-p%32:0;j[F]|=R,s|=R}s?D=S:(e.y0++,v--,S--,l++)}e.y1=e.y0+D,e.sprite=j.slice(0,(e.y1-e.y0)*I)}}}function Ia(t,e,n){n>>=5;for(var r=t.sprite,i=t.width>>5,a=t.x-(i<<4),o=a&127,l=32-o,d=t.y1-t.y0,b=(t.y+t.y0)*n+(a>>5),g,h=0;h<d;h++){g=0;for(var m=0;m<=i;m++)if((g<<l|(m<i?(g=r[h*i+m])>>>o:0))&e[b+m])return!0;b+=n}return!1}function Ca(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function Ma(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function Gn(t){var e=t[0]/t[1];return function(n){return[e*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function Oa(t){var e=4,n=e*t[0]/t[1],r=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=n;break;case 1:i+=e;break;case 2:r-=n;break;default:i-=e;break}return[r,i]}}function Aa(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function Da(){return document.createElement("canvas")}function wt(t){return typeof t=="function"?t:function(){return t}}const Ta=Me(va);var Pa=typeof Element<"u",Fa=typeof Map=="function",Ra=typeof Set=="function",ka=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ne(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!ne(t[r],e[r]))return!1;return!0}var a;if(Fa&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;for(a=t.entries();!(r=a.next()).done;)if(!ne(r.value[1],e.get(r.value[0])))return!1;return!0}if(Ra&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(ka&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(Pa&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!ne(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var ja=function(e,n){try{return ne(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const La=Me(ja);var Ce="http://www.w3.org/1999/xhtml";const gn={svg:"http://www.w3.org/2000/svg",xhtml:Ce,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),gn.hasOwnProperty(e)?{space:gn[e],local:t}:t}function Ua(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ce&&e.documentElement.namespaceURI===Ce?e.createElement(t):e.createElementNS(n,t)}}function Ba(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Kn(t){var e=Vn(t);return(e.local?Ba:Ua)(e)}function qa(){}function Xn(t){return t==null?qa:function(){return this.querySelector(t)}}function $a(t){typeof t!="function"&&(t=Xn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,l=r[i]=new Array(o),d,b,g=0;g<o;++g)(d=a[g])&&(b=t.call(d,d.__data__,g,a))&&("__data__"in d&&(b.__data__=d.__data__),l[g]=b);return new dt(r,this._parents)}function Qn(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wa(){return[]}function za(t){return t==null?Wa:function(){return this.querySelectorAll(t)}}function Ya(t){return function(){var e=t.apply(this,arguments);return e==null?[]:Qn(e)}}function Ha(t){typeof t=="function"?t=Ya(t):t=za(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],l=o.length,d,b=0;b<l;++b)(d=o[b])&&(r.push(t.call(d,d.__data__,b,o)),i.push(d));return new dt(r,i)}function Ga(t){return function(){return this.matches(t)}}function Jn(t){return function(e){return e.matches(t)}}var Va=Array.prototype.find;function Ka(t){return function(){return Va.call(this.children,t)}}function Xa(){return this.firstElementChild}function Qa(t){return this.select(t==null?Xa:Ka(typeof t=="function"?t:Jn(t)))}var Ja=Array.prototype.filter;function Za(){return this.children}function to(t){return function(){return Ja.call(this.children,t)}}function eo(t){return this.selectAll(t==null?Za:to(typeof t=="function"?t:Jn(t)))}function no(t){typeof t!="function"&&(t=Ga(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,l=r[i]=[],d,b=0;b<o;++b)(d=a[b])&&t.call(d,d.__data__,b,a)&&l.push(d);return new dt(r,this._parents)}function Zn(t){return new Array(t.length)}function ro(){return new dt(this._enter||this._groups.map(Zn),this._parents)}function ae(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ae.prototype={constructor:ae,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function io(t){return function(){return t}}function ao(t,e,n,r,i,a){for(var o=0,l,d=e.length,b=a.length;o<b;++o)(l=e[o])?(l.__data__=a[o],r[o]=l):n[o]=new ae(t,a[o]);for(;o<d;++o)(l=e[o])&&(i[o]=l)}function oo(t,e,n,r,i,a,o){var l,d,b=new Map,g=e.length,h=a.length,m=new Array(g),w;for(l=0;l<g;++l)(d=e[l])&&(m[l]=w=o.call(d,d.__data__,l,e)+"",b.has(w)?i[l]=d:b.set(w,d));for(l=0;l<h;++l)w=o.call(t,a[l],l,a)+"",(d=b.get(w))?(r[l]=d,d.__data__=a[l],b.delete(w)):n[l]=new ae(t,a[l]);for(l=0;l<g;++l)(d=e[l])&&b.get(m[l])===d&&(i[l]=d)}function so(t){return t.__data__}function uo(t,e){if(!arguments.length)return Array.from(this,so);var n=e?oo:ao,r=this._parents,i=this._groups;typeof t!="function"&&(t=io(t));for(var a=i.length,o=new Array(a),l=new Array(a),d=new Array(a),b=0;b<a;++b){var g=r[b],h=i[b],m=h.length,w=Qn(t.call(g,g&&g.__data__,b,r)),y=w.length,O=l[b]=new Array(y),L=o[b]=new Array(y),j=d[b]=new Array(m);n(g,h,O,L,j,w,e);for(var x=0,I=0,v,p;x<y;++x)if(v=O[x]){for(x>=I&&(I=x+1);!(p=L[I])&&++I<y;);v._next=p||null}}return o=new dt(o,r),o._enter=l,o._exit=d,o}function lo(){return new dt(this._exit||this._groups.map(Zn),this._parents)}function co(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function fo(t){if(!(t instanceof dt))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var d=e[l],b=n[l],g=d.length,h=o[l]=new Array(g),m,w=0;w<g;++w)(m=d[w]||b[w])&&(h[w]=m);for(;l<r;++l)o[l]=e[l];return new dt(o,this._parents)}function ho(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function mo(t){t||(t=po);function e(h,m){return h&&m?t(h.__data__,m.__data__):!h-!m}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,d=i[a]=new Array(l),b,g=0;g<l;++g)(b=o[g])&&(d[g]=b);d.sort(e)}return new dt(i,this._parents).order()}function po(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function yo(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function go(){return Array.from(this)}function bo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function vo(){let t=0;for(const e of this)++t;return t}function xo(){return!this.node()}function Eo(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,l;a<o;++a)(l=i[a])&&t.call(l,l.__data__,a,i);return this}function wo(t){return function(){this.removeAttribute(t)}}function _o(t){return function(){this.removeAttributeNS(t.space,t.local)}}function So(t,e){return function(){this.setAttribute(t,e)}}function No(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Io(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Co(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Mo(t,e){var n=Vn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?_o:wo:typeof e=="function"?n.local?Co:Io:n.local?No:So)(n,e))}function tr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Oo(t){return function(){this.style.removeProperty(t)}}function Ao(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Do(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function To(t,e,n){return arguments.length>1?this.each((e==null?Oo:typeof e=="function"?Do:Ao)(t,e,n??"")):Po(this.node(),t)}function Po(t,e){return t.style.getPropertyValue(e)||tr(t).getComputedStyle(t,null).getPropertyValue(e)}function Fo(t){return function(){delete this[t]}}function Ro(t,e){return function(){this[t]=e}}function ko(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function jo(t,e){return arguments.length>1?this.each((e==null?Fo:typeof e=="function"?ko:Ro)(t,e)):this.node()[t]}function er(t){return t.trim().split(/^|\s+/)}function je(t){return t.classList||new nr(t)}function nr(t){this._node=t,this._names=er(t.getAttribute("class")||"")}nr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function rr(t,e){for(var n=je(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ir(t,e){for(var n=je(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Lo(t){return function(){rr(this,t)}}function Uo(t){return function(){ir(this,t)}}function Bo(t,e){return function(){(e.apply(this,arguments)?rr:ir)(this,t)}}function qo(t,e){var n=er(t+"");if(arguments.length<2){for(var r=je(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Bo:e?Lo:Uo)(n,e))}function $o(){this.textContent=""}function Wo(t){return function(){this.textContent=t}}function zo(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Yo(t){return arguments.length?this.each(t==null?$o:(typeof t=="function"?zo:Wo)(t)):this.node().textContent}function Ho(){this.innerHTML=""}function Go(t){return function(){this.innerHTML=t}}function Vo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ko(t){return arguments.length?this.each(t==null?Ho:(typeof t=="function"?Vo:Go)(t)):this.node().innerHTML}function Xo(){this.nextSibling&&this.parentNode.appendChild(this)}function Qo(){return this.each(Xo)}function Jo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zo(){return this.each(Jo)}function ts(t){var e=typeof t=="function"?t:Kn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function es(){return null}function ns(t,e){var n=typeof t=="function"?t:Kn(t),r=e==null?es:typeof e=="function"?e:Xn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function rs(){var t=this.parentNode;t&&t.removeChild(this)}function is(){return this.each(rs)}function as(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function os(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ss(t){return this.select(t?os:as)}function us(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ls(t){return function(e){t.call(this,e,this.__data__)}}function cs(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function fs(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function ds(t,e,n){return function(){var r=this.__on,i,a=ls(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function hs(t,e,n){var r=cs(t+""),i,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,b=l.length,g;d<b;++d)for(i=0,g=l[d];i<a;++i)if((o=r[i]).type===g.type&&o.name===g.name)return g.value}return}for(l=e?ds:fs,i=0;i<a;++i)this.each(l(r[i],e,n));return this}function ar(t,e,n){var r=tr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ms(t,e){return function(){return ar(this,t,e)}}function ps(t,e){return function(){return ar(this,t,e.apply(this,arguments))}}function ys(t,e){return this.each((typeof e=="function"?ps:ms)(t,e))}function*gs(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var bs=[null];function dt(t,e){this._groups=t,this._parents=e}function vs(){return this}dt.prototype={constructor:dt,select:$a,selectAll:Ha,selectChild:Qa,selectChildren:eo,filter:no,data:uo,enter:ro,exit:lo,join:co,merge:fo,selection:vs,order:ho,sort:mo,call:yo,nodes:go,node:bo,size:vo,empty:xo,each:Eo,attr:Mo,style:To,property:jo,classed:qo,text:Yo,html:Ko,raise:Qo,lower:Zo,append:ts,insert:ns,remove:is,clone:ss,datum:us,on:hs,dispatch:ys,[Symbol.iterator]:gs};function bn(t){return typeof t=="string"?new dt([[document.querySelector(t)]],[document.documentElement]):new dt([[t]],bs)}function xs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const vn=Symbol("implicit");function or(){var t=new Map,e=[],n=[],r=vn;function i(a){var o=a+"",l=t.get(o);if(!l){if(r!==vn)return r;t.set(o,l=e.push(a))}return n[(l-1)%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Map;for(const o of a){const l=o+"";t.has(l)||t.set(l,e.push(o))}return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return or(e,n).unknown(r)},xs.apply(i,arguments),i}function Es(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const ws=Es("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function _s(t,e){return Cs(t)||Is(t,e)||Ns(t,e)||Ss()}function Ss(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ns(t,e){if(t){if(typeof t=="string")return xn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xn(t,e)}}function xn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Is(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(d){a=!0,l=d}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function Cs(t){if(Array.isArray(t))return t}var Ms=or(ws);function sr(t){var e=t.data,n=t.width,r=n===void 0?700:n,i=t.height,a=i===void 0?600:i,o=t.font,l=o===void 0?"serif":o,d=t.fontStyle,b=d===void 0?"normal":d,g=t.fontWeight,h=g===void 0?"normal":g,m=t.fontSize,w=m===void 0?function(Y){return Math.sqrt(Y.value)}:m,y=t.rotate,O=y===void 0?function(){return(~~(Math.random()*6)-3)*30}:y,L=t.spiral,j=L===void 0?"archimedean":L,x=t.padding,I=x===void 0?1:x,v=t.random,p=v===void 0?Math.random:v,s=t.fill,D=s===void 0?function(Y,ot){return Ms(ot)}:s,S=t.onWordClick,F=t.onWordMouseOver,R=t.onWordMouseOut,T=A.useRef();T.current||(T.current=fa.createElement("div"));var nt=T.current;bn(nt).selectAll("*").remove();var W=Ta().words(e).size([r,a]).font(l).fontStyle(b).fontWeight(h).fontSize(w).rotate(O).spiral(j).padding(I).random(p).on("end",function(Y){var ot=W.size(),M=_s(ot,2),ut=M[0],Q=M[1],st=bn(nt).append("svg").attr("viewBox","0 0 ".concat(ut," ").concat(Q)).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("transform","translate(".concat(ut/2,",").concat(Q/2,")")).selectAll("text").data(Y).enter().append("text").style("font-family",function(K){return K.font}).style("font-style",function(K){return K.style}).style("font-weight",function(K){return K.weight}).style("font-size",function(K){return"".concat(K.size,"px")}).style("fill",D).attr("text-anchor","middle").attr("transform",function(K){return"translate(".concat([K.x,K.y],")rotate(").concat(K.rotate,")")}).text(function(K){return K.text});S&&st.on("click",S),F&&st.on("mouseover",F),R&&st.on("mouseout",R)});return W.start(),nt.toReact()}sr.propTypes={data:$.arrayOf($.shape({text:$.string.isRequired,value:$.number.isRequired})).isRequired,width:$.number,height:$.number,font:$.oneOfType([$.string,$.func]),fontStyle:$.oneOfType([$.string,$.func]),fontWeight:$.oneOfType([$.string,$.number,$.func]),fontSize:$.oneOfType([$.number,$.func]),rotate:$.oneOfType([$.number,$.func]),spiral:$.oneOfType([$.oneOf(["archimedean"]),$.oneOf(["rectangular"]),$.func]),padding:$.oneOfType([$.number,$.func]),random:$.func,onWordClick:$.func,onWordMouseOver:$.func,onWordMouseOut:$.func};const Os=f.memo(sr,La);async function As(){}function Ds(t=""){const e=String(t).toLowerCase();return/bsic|basic/.test(e)?"bsica":/medi/.test(e)?"media":""}async function Ts({asignatura:t="",nivel:e="",unidad:n=""}={}){try{return null}catch(r){return console.warn("[curriculoService] getPrimerOA:",(r==null?void 0:r.message)||r),null}}function Ps(){try{const t=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);n&&(n==="inicioClase_countdown_end"||n.startsWith("ic_countdown_end:")||n.startsWith("crono:"))&&t.push(n)}t.forEach(e=>localStorage.removeItem(e))}catch{}}const En=["/InicioClase","/inicioClase","/inicioclase","/Inicioclase","/inicio"];function Fs(){try{const t=localStorage.getItem("inicioClasePath"),e=typeof window<"u"&&window.__INICIO_CLASE_PATH||null;return t&&String(t)||e&&String(e)||En[0]}catch{return En[0]}}function Lt(t="0-0"){var r;const e=((r=mt.currentUser)==null?void 0:r.uid)||localStorage.getItem("uid")||"anon",n=Dn();return`ic_countdown_end:${e}:${n}:${t}`}const Ut={user:null,plan:"FREE",caps:Ir.FREE,loading:!1},Z={brandA:"#2193b0",brandB:"#6dd5ed",white:"#ffffff",textDark:"#1f2937",textMuted:"#475569",border:"#e5e7eb",btnText:"#2193b0"},wn={minHeight:"100vh",background:`linear-gradient(to right, ${Z.brandA}, ${Z.brandB})`,padding:"2rem",fontFamily:"Segoe UI, sans-serif",color:Z.white,boxSizing:"border-box"},Rs=(t="1rem")=>({display:"grid",gridTemplateColumns:"1fr 2fr 1fr",gap:t,alignItems:"stretch"}),ct={background:Z.white,color:Z.textDark,borderRadius:12,padding:"1rem",boxShadow:"0 6px 18px rgba(16,24,40,.06), 0 2px 6px rgba(16,24,40,.03)",border:`1px solid ${Z.border}`,maxWidth:"100%",overflow:"hidden"},Mt={background:Z.white,color:Z.btnText,border:"none",borderRadius:10,padding:".6rem .9rem",fontWeight:700,cursor:"pointer",boxShadow:"0 4px 10px rgba(0,0,0,.15)"},_n={...Mt,padding:".35rem .6rem",fontWeight:600,boxShadow:"none",border:`1px solid ${Z.border}`},Ct="inicioClase_countdown_end",Sn=t=>{const e=Math.max(0,t-Date.now()),n=Math.floor(e/6e4),r=Math.floor(e%6e4/1e3);return{m:n,s:r,finished:e===0}},ks=(t,e)=>`${String(t).padStart(2,"0")}:${String(e).padStart(2,"0")}`;function ur(){const e=new URLSearchParams(window.location.search).get("at");if(!e)return new Date;const[n,r]=e.split(":").map(Number),i=new Date;return i.setHours(n),i.setMinutes(r),i.setSeconds(0),i.setMilliseconds(0),i}function lr(){const t=new URLSearchParams(window.location.search),e=Number(t.get("dow"));return e>=1&&e<=5?e:null}function Ie(){try{const e=new URLSearchParams(window.location.search||"").get("slot");if(!e)return null;const[n,r]=e.split("-").map(i=>Number(i));if(Number.isInteger(n)&&Number.isInteger(r))return`${n}-${r}`}catch{}return null}async function js(t){var e,n,r;try{const i=et(J,"horarios",t),a=await it(i);if(a.exists()&&Array.isArray((e=a.data())==null?void 0:e.horario))return a.data().horario}catch(i){console.debug("[horarios] fallback -> usuarios",i==null?void 0:i.code)}try{const i=et(J,"usuarios",t),a=await it(i);if(!a.exists())return null;const o=a.data();if(o.horarioMatriz)return Object.keys(o.horarioMatriz).sort((d,b)=>Number(d.replace("f",""))-Number(b.replace("f",""))).map(d=>o.horarioMatriz[d]);if(Array.isArray(o.horarioSlots)){const l=((r=(n=o.horarioConfig)==null?void 0:n.bloquesGenerados)==null?void 0:r.length)??16,d=5,b=Array.from({length:l},()=>Array.from({length:d},()=>({asignatura:"",nivel:"",seccion:"",unidad:"",objetivo:"",habilidades:""})));return o.horarioSlots.forEach(g=>{(g==null?void 0:g.fila)!=null&&(g==null?void 0:g.col)!=null&&(b[g.fila][g.col]={asignatura:g.asignatura??"",nivel:g.nivel??"",seccion:g.seccion??"",unidad:g.unidad??"",objetivo:g.objetivo??"",habilidades:Array.isArray(g.habilidades)?g.habilidades.join(", "):g.habilidades??""})}),b}}catch(i){console.debug("[usuarios] read error:",i==null?void 0:i.code)}return null}const Ls=()=>{const t=lr(),e=t??new Date().getDay();return e>=1&&e<=5?e-1:0},Us=(t=[])=>{const e=ur(),n=e.getHours()*60+e.getMinutes();for(let r=0;r<t.length-1;r++){const i=t[r][0]*60+t[r][1],a=t[r+1][0]*60+t[r+1][1];if(n>=i&&n<a)return r}return 0};function Nn(t={}){if(Array.isArray(t.marcas)&&Array.isArray(t.marcas[0]))return t.marcas;if(Array.isArray(t.marcas)&&t.marcas.length&&typeof t.marcas[0]=="object")return t.marcas.map(e=>[Number(e.h)||0,Number(e.m)||0]);if(Array.isArray(t.marcasStr))return t.marcasStr.map(e=>{const[n,r]=String(e).split(":").map(i=>Number(i)||0);return[n,r]});if(Array.isArray(t.bloquesGenerados)&&t.bloquesGenerados.length){const e=t.bloquesGenerados.map(r=>String(r).split(" - ")[0]),n=String(t.bloquesGenerados.at(-1)).split(" - ")[1];return[...e,n].map(r=>{const[i,a]=r.split(":").map(o=>Number(o)||0);return[i,a]})}return[]}const In=()=>String(Math.floor(1e4+Math.random()*9e4));function Cn(){try{const t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","0"),e.setAttribute("height","0");const n=document.createElementNS(t,"text");n.textContent="m",e.appendChild(n),document.body.appendChild(e);const r=n.getBBox();return document.body.removeChild(e),Number.isFinite(r==null?void 0:r.width)&&r.width>0}catch{return!1}}const Mn=()=>/OPR|Opera Mini|Opera/i.test(navigator.userAgent);class Bs extends f.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){try{localStorage.setItem("cloudMode","html")}catch{}return{hasError:!0}}componentDidCatch(e){console.error("[WordCloud SVG] error:",e)}render(){return this.state.hasError?this.props.fallback:this.props.children}}class qs extends f.Component{constructor(e){super(e),this.state={hasError:!1,err:null}}static getDerivedStateFromError(e){return{hasError:!0,err:e}}componentDidCatch(e,n){console.error("[InicioClase] render error:",e,n)}render(){var e;return this.state.hasError?f.createElement("div",{style:{minHeight:"100vh",display:"grid",placeItems:"center",background:"#f8fafc",fontFamily:"Segoe UI, sans-serif"}},f.createElement("div",{style:{maxWidth:720,background:"#fff",border:"1px solid #e5e7eb",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,.05)",padding:"20px"}},f.createElement("h3",{style:{margin:"0 0 8px"}},"Se produjo un error al dibujar la pantalla"),f.createElement("div",{style:{color:"#475569",marginBottom:12}},"Prueba con los modos de diagnstico:"),f.createElement("code",{style:{display:"block",background:"#0f172a",color:"#e2e8f0",padding:"10px",borderRadius:8,overflowX:"auto"}},window.location.origin,"/inicio?safe=1&bypass=1",`
`,window.location.origin,"/inicio?nocloud=1&bypass=1"),f.createElement("div",{style:{marginTop:12,color:"#475569"}},"Detalle: ",String(((e=this.state.err)==null?void 0:e.message)||this.state.err)||"(sin mensaje)"))):this.props.children}}function On({data:t,palette:e,width:n,height:r,fontSize:i}){var l;const a=A.useRef(null),o=!!((l=mt.currentUser)!=null&&l.uid||localStorage.getItem("uid"));return A.useEffect(()=>{var b;if(!o)return;const d=((b=mt.currentUser)==null?void 0:b.uid)||localStorage.getItem("uid");d&&window.__slotsSyncedForUid!==d&&(async()=>{try{await As(d,{overwrite:!1}),window.__slotsSyncedForUid=d,console.log("slots sincronizados desde el horario")}catch(g){console.warn("syncSlotsFromHorario error:",g)}})()},[o]),A.useEffect(()=>{const d=a.current;if(!d)return;const b=window.devicePixelRatio||1;d.width=Math.floor(n*b),d.height=Math.floor(r*b),d.style.width=`${n}px`,d.style.height=`${r}px`;const g=d.getContext("2d");if(!g)return;g.setTransform(b,0,0,b,0,0),g.clearRect(0,0,n,r);const h=[...t].sort((v,p)=>i(p)-i(v)),m=n/2,w=r/2,y=[],O=4,L=0,j=6,x=.35,I=(v,p)=>!(p.x>v.x+v.w||p.x+p.w<v.x||p.y>v.y+v.h||p.y+p.h<v.y);h.forEach((v,p)=>{const s=Math.max(12,Math.floor(i(v))),D=String(v.text||""),S=e[p%e.length];let F=0,R=!1,T=m,nt=w,W;for(let Y=0;Y<2e3;Y++){const ot=L+j*F;T=m+ot*Math.cos(F),nt=w+ot*Math.sin(F);const M=g;M.font=`bold ${s}px Segoe UI, sans-serif`,M.textBaseline="middle",M.textAlign="center";const Q=M.measureText(D).width,st=s*.9;if(W={x:T-Q/2-O,y:nt-st/2-O,w:Q+2*O,h:st+2*O},y.every(K=>!I(K,W))){R=!0;break}F+=x}g.fillStyle=S,g.globalAlpha=.95,g.fillText(D,T,nt),g.globalAlpha=1,R&&y.push(W)})},[t,e,n,r,i]),f.createElement("canvas",{ref:a,style:{display:"block",width:n,height:r}})}function An({show:t,data:e}){if(!t)return null;const n=i=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return String(i);if(i==null)return"";try{return JSON.stringify(i)}catch{return"[obj]"}},r=(i,a)=>f.createElement("div",{key:i,style:{display:"flex",flexDirection:"column",gap:2,borderBottom:"1px solid rgba(255,255,255,.12)",paddingBottom:4}},f.createElement("span",{style:{opacity:.75}},i),f.createElement("pre",{style:{margin:0,fontSize:11,background:"#064e3b",color:"#d1fae5",padding:"2px 4px",borderRadius:4,maxWidth:"100%",overflowX:"auto"}},n(a)));return f.createElement("div",{style:{position:"fixed",left:12,bottom:12,zIndex:9999,background:"#052e16",color:"#d1fae5",padding:"10px 12px",borderRadius:10,boxShadow:"0 8px 24px rgba(0,0,0,.35)",width:260,maxHeight:240,overflowY:"auto",fontFamily:"Segoe UI, system-ui, sans-serif",fontSize:12}},f.createElement("div",{style:{fontWeight:800,marginBottom:6}},"InicioClase  debug"),f.createElement("div",{style:{display:"grid",gap:6}},Object.entries(e).map(([i,a])=>r(i,a))))}function Hs(){var He,Ge,Ve,Ke;const t=gr(),e=br(),[n,r]=A.useState(!1);A.useEffect(()=>{try{new URLSearchParams(e.search||"").get("paid")==="1"&&(r(!0),t(e.pathname,{replace:!0}))}catch{}},[e,t]);const i=new URLSearchParams(window.location.search||""),a=i.get("safe")==="1",o=i.get("nocloud")==="1",l=i.get("debug")==="1";try{console.log("[InicioClase] flags",{SAFE_MODE:a,DISABLE_CLOUD:o})}catch{}const{user:d=Ut.user,plan:b=Ut.plan,caps:g=Ut.caps,loading:h=Ut.loading}=A.useContext(Sr)||Ut,[m,w]=A.useState("0-0"),[y,O]=A.useState(!1),[L,j]=A.useState("Profesor"),[x,I]=A.useState(""),[v,p]=A.useState(""),[s,D]=A.useState(null),[S,F]=A.useState(null),[R,T]=A.useState("Qu palabra representa mejor la ltima clase?"),[nt,W]=A.useState([]),[Y,ot]=A.useState([]),[M,ut]=A.useState(null),[Q,st]=A.useState(localStorage.getItem("salaCode")||""),[K,_t]=A.useState(""),[St,Gt]=A.useState([]),[bt,ge]=A.useState("auto"),[yt,Le]=A.useState(null),[cr,Vt]=A.useState(!0),[be,Ue]=A.useState(!1);A.useEffect(()=>{const u=Ie()||localStorage.getItem("__lastSlotId");u&&w(u)},[]),A.useEffect(()=>{const u=vr(mt,async c=>{if(c)O(!0),localStorage.getItem("uid")!==c.uid&&localStorage.setItem("uid",c.uid);else{try{await wr(mt)}catch(N){console.error("Anon sign-in:",N)}return}});return()=>u()},[]),A.useEffect(()=>{const u=(e==null?void 0:e.state)||null;if(u)try{const c=u.profesor||{};c!=null&&c.nombre&&j(c.nombre);const N=u.clase||null;N&&D(E=>({...E||{},unidad:N.unidad??(E==null?void 0:E.unidad)??"(sin unidad)",objetivo:N.objetivo??(E==null?void 0:E.objetivo)??"(sin objetivo)",habilidades:N.habilidades??(E==null?void 0:E.habilidades)??"(sin habilidades)",asignatura:N.asignatura??(E==null?void 0:E.asignatura)??x??"(sin asignatura)"}))}catch{}},[]),A.useEffect(()=>{(async()=>{try{const u=await xr(new Date);ut(u),u&&(u.unidad||u.objetivo||u.habilidades)&&D(c=>({...c||{},unidad:u.unidad??(c==null?void 0:c.unidad)??"(sin unidad)",objetivo:u.objetivo??(c==null?void 0:c.objetivo)??"(sin objetivo)",habilidades:u.habilidades??(c==null?void 0:c.habilidades)??"(sin habilidades)",asignatura:u.asignatura??(c==null?void 0:c.asignatura)??x??"(sin asignatura)"}))}catch(u){console.error("[Inicio] getClaseVigente:",u)}})()},[x]),A.useEffect(()=>{let u=!1;async function c(){try{Vt(!0),Le(null);const N=(M==null?void 0:M.codUnidad)||null;if(!N){Vt(!1);return}const E=et(J,"curriculo",N),C=await it(E);u||(C.exists()&&Le(C.data()),Vt(!1))}catch(N){console.warn("[curriculo] read:",(N==null?void 0:N.code)||(N==null?void 0:N.message)),u||Vt(!1)}}return c(),()=>{u=!0}},[M]),A.useEffect(()=>{p(new Date().toLocaleTimeString());const u=setInterval(()=>p(new Date().toLocaleTimeString()),1e3);return()=>clearInterval(u)},[]);const[Ft,Be]=A.useState({m:10,s:0});A.useEffect(()=>{if(!m)return;const u=Lt(m);let c=localStorage.getItem(u)||localStorage.getItem(Ct);if(!c){const U=Date.now()+6e5;localStorage.setItem(u,String(U)),localStorage.setItem(Ct,String(U)),c=String(U)}const N=Number(c),E=()=>Be(Sn(N));E();const C=setInterval(E,1e3);return()=>clearInterval(C)},[m]);const fr=()=>{const u=Date.now()+6e5,c=Lt(m||"0-0");localStorage.setItem(c,String(u)),localStorage.setItem(Ct,String(u)),Be(Sn(u))},ve=()=>{const u=Array.isArray(s==null?void 0:s.habilidades)?s.habilidades.join("; "):(s==null?void 0:s.habilidades)??"";return{asignatura:(s==null?void 0:s.asignatura)??x??"(sin asignatura)",unidad:(s==null?void 0:s.unidad)??"(sin unidad)",objetivo:(s==null?void 0:s.objetivo)??"(sin objetivo)",habilidades:u??"(sin habilidades)",nivel:(s==null?void 0:s.nivel)??"",seccion:(s==null?void 0:s.seccion)??"",bloque:(s==null?void 0:s.bloque)??"",dia:(s==null?void 0:s.dia)??"",codUnidad:(M==null?void 0:M.codUnidad)??(S==null?void 0:S.codUnidad)??"",programaUrl:(S==null?void 0:S.programaUrl)??"",fuentes:Array.isArray(S==null?void 0:S.fuentes)?S.fuentes:[],planId:(S==null?void 0:S.planId)??"",updatedAt:Date.now()}};A.useEffect(()=>{if(!be&&Ft.m===0&&Ft.s===0){Ue(!0);const u=Lt(m||"0-0"),c=localStorage.getItem(u)||localStorage.getItem(Ct)||String(Date.now()),N=Number(c);try{localStorage.setItem("__lastSlotId",m||"0-0")}catch{}const E=ve();t("/desarrollo",{state:{slotId:m||"0-0",endMs:N,clase:s||null,ficha:E}})}},[Ft,t,m,s,be]),A.useEffect(()=>{(async()=>{let u=Q;u||(u=In(),localStorage.setItem("salaCode",u),st(u));try{await xt(et(J,"salas",u),{activa:!0,createdAt:Et()},{merge:!0})}catch(E){console.warn("[sala] setDoc:",(E==null?void 0:E.code)||(E==null?void 0:E.message))}const c=localStorage.getItem("hostOverride"),N=c&&/^https?:\/\/.*/.test(c)?c:window.location.origin;_t(`${N}/participa?code=${u}`)})()},[]),A.useEffect(()=>{y&&(window.__salaInitDone||(async()=>{try{let u=Q||localStorage.getItem("salaCode");u||(u=In(),localStorage.setItem("salaCode",u),st(u)),await xt(et(J,"salas",u),{activa:!0,createdAt:Et()},{merge:!0});const c=localStorage.getItem("hostOverride"),N=c&&/^https?:\/\/.*/.test(c)?c:window.location.origin;_t(`${N}/participa?code=${u}`),window.__salaInitDone=!0}catch(u){console.warn("[sala][authed] setDoc:",(u==null?void 0:u.code)||(u==null?void 0:u.message))}})())},[y,Q]),A.useEffect(()=>{y&&(async()=>{var c,N;const u=((c=mt.currentUser)==null?void 0:c.uid)||localStorage.getItem("uid");if(u)try{const E=et(J,"usuarios",u),C=await it(E);if(C.exists()){const U=C.data();U!=null&&U.nombre&&j(U.nombre),U!=null&&U.asignatura&&I(U.asignatura)}}catch(E){console.warn("[usuarios] read nombre:",E==null?void 0:E.code)}try{const E=et(J,"preguntaClase","actual"),C=await it(E);C.exists()&&((N=C.data())!=null&&N.texto)&&T(C.data().texto)}catch(E){console.warn("[preguntaClase] read:",E==null?void 0:E.code)}})()},[y]),A.useEffect(()=>{if(!y)return;const u=(...N)=>{for(const E of N){const C=(E??"").toString().trim();if(C&&!/^\(sin/i.test(C))return C}return N.find(Boolean)||""},c=N=>Array.isArray(N)?N.join(", "):N??"";(async()=>{var N;try{const E=((N=mt.currentUser)==null?void 0:N.uid)||localStorage.getItem("uid");if(!E)return;try{const C=et(J,"profesores",E),U=await it(C);if(U.exists()){const k=U.data()||{};D(_=>({..._||{},unidad:u(_==null?void 0:_.unidad,k.unidad,k.unidadInicial,"(sin unidad)"),objetivo:u(_==null?void 0:_.objetivo,k.objetivo,k.objetivoInicial,"(sin objetivo)"),habilidades:u(_==null?void 0:_.habilidades,c(k.habilidades),"(sin habilidades)"),asignatura:u(_==null?void 0:_.asignatura,x,k.asignatura,"(sin asignatura)"),curso:u(_==null?void 0:_.curso,k.curso,"(sin curso)")}))}}catch(C){console.warn("[Inicio] profesores read:",(C==null?void 0:C.code)||C)}try{const C=et(J,"usuarios",E),U=await it(C);if(U.exists()){const k=U.data()||{};D(_=>({..._||{},unidad:_!=null&&_.unidad&&!/^\(sin/i.test(_==null?void 0:_.unidad)?_==null?void 0:_.unidad:k.unidadInicial??k.unidad??"(sin unidad)",objetivo:_!=null&&_.objetivo&&!/^\(sin/i.test(_==null?void 0:_.objetivo)?_==null?void 0:_.objetivo:k.objetivo??"(sin objetivo)",habilidades:_!=null&&_.habilidades&&!/^\(sin/i.test(_==null?void 0:_.habilidades)?_==null?void 0:_.habilidades:c(k.habilidades)||"(sin habilidades)",asignatura:u(_==null?void 0:_.asignatura,x,k.asignatura,"(sin asignatura)"),curso:u(_==null?void 0:_.curso,k.curso,"(sin curso)")}))}}catch(C){console.warn("[Inicio] usuarios fallback:",(C==null?void 0:C.code)||C)}}catch{}})()},[y,x]),A.useEffect(()=>{y&&(async()=>{var u;try{const c=((u=mt.currentUser)==null?void 0:u.uid)||localStorage.getItem("uid");if(!c)return;const N=Ie();if(N){w(N);try{localStorage.setItem("__lastSlotId",N)}catch{}const _=et(J,"clases_detalle",c,"slots",N),B=await it(_);if(B.exists()){const q=B.data();D(P=>({...P||{},unidad:q.unidad??(P==null?void 0:P.unidad)??"(sin unidad)",objetivo:q.objetivo??(P==null?void 0:P.objetivo)??"(sin objetivo)",habilidades:q.habilidades??(P==null?void 0:P.habilidades)??"(sin habilidades)",asignatura:q.asignatura??(P==null?void 0:P.asignatura)??x??"(sin asignatura)"}))}else try{const q=await it(et(J,"horarios",c,"celdas",N));if(q.exists()){const P=q.data()||{},G={asignatura:P.asignatura??"",nivel:P.nivel??"",seccion:P.seccion??"",unidad:P.unidad??"",objetivo:P.objetivo??"",habilidades:Array.isArray(P.habilidades)?P.habilidades.join(", "):P.habilidades??"",updatedAt:Et()};(G.unidad||G.objetivo||G.habilidades)&&(await xt(_,G,{merge:!0}),D(z=>({...z||{},...G})))}}catch{}return}const E=et(J,"usuarios",c),C=await it(E),U=C.exists()?C.data().horarioConfig||{}:{},k=Nn(U);if(k.length>1){const _=Us(k),B=Ls(),q=`${_}-${B}`;w(q);try{localStorage.setItem("__lastSlotId",q)}catch{}const P=et(J,"clases_detalle",c,"slots",q),G=await it(P);if(G.exists()){const z=G.data();D(H=>({...H||{},unidad:z.unidad??(H==null?void 0:H.unidad)??"(sin unidad)",objetivo:z.objetivo??(H==null?void 0:H.objetivo)??"(sin objetivo)",habilidades:z.habilidades??(H==null?void 0:H.habilidades)??"(sin habilidades)",asignatura:z.asignatura??(H==null?void 0:H.asignatura)??x??"(sin asignatura)"}))}else try{const z=await it(et(J,"horarios",c,"celdas",q));if(z.exists()){const H=z.data()||{};D(X=>({...X||{},asignatura:H.asignatura??(X==null?void 0:X.asignatura)??x??"(sin asignatura)",unidad:H.unidad??(X==null?void 0:X.unidad)??"(sin unidad)",objetivo:H.objetivo??(X==null?void 0:X.objetivo)??"(sin objetivo)",habilidades:(Array.isArray(H.habilidades)?H.habilidades.join(", "):H.habilidades??"")||(X==null?void 0:X.habilidades)||"(sin habilidades)"}))}}catch{}}}catch(c){console.warn("[horarioConfig.marcas  clases_detalle]",(c==null?void 0:c.code)||(c==null?void 0:c.message))}})()},[y,x]),A.useEffect(()=>{y&&(async()=>{var B,q;const u=((B=mt.currentUser)==null?void 0:B.uid)||localStorage.getItem("uid");if(!u)return;const c=await js(u);if(!c)return;const N=["08:00 - 08:45","08:45 - 09:30","09:30 - 09:50 (Recreo)","09:50 - 10:35","10:35 - 11:20","11:20 - 11:30 (Recreo)","11:30 - 12:15","12:15 - 13:00","13:00 - 13:45 (Almuerzo)","13:45 - 14:30","14:30 - 15:15","15:15 - 15:30 (Recreo)","15:30 - 16:15","16:15 - 17:00","17:00 - 17:45","17:45 - 18:30"],E=["Lunes","Martes","Mircoles","Jueves","Viernes"];let C=[[8,0],[8,45],[9,30],[9,50],[10,35],[11,20],[11,30],[12,15],[13,45],[14,30],[15,15],[15,30],[16,15],[17,0],[17,45],[18,30],[19,15],[20,0],[20,45],[21,0]];try{const P=et(J,"usuarios",u),G=await it(P),z=G.exists()?G.data().horarioConfig||{}:{},H=Nn(z);H.length>1&&(C=H)}catch{}const U=Ie();let k=null,_=null;if(U){const[P,G]=U.split("-").map(z=>Number(z));k=Number.isInteger(P)?P:0,_=Number.isInteger(G)?G:0}else{const P=ur(),G=lr()??P.getDay(),z=P.getHours(),H=P.getMinutes();let X=C.findIndex(([tt,It])=>z<tt||z===tt&&H<It);X===-1?X=C.length-1:X=Math.max(0,X-1),G>=1&&G<=5?(k=X,_=G-1):(k=0,_=0)}if(k!=null&&_!=null&&k>=0&&k<c.length&&_>=0&&_<(((q=c[0])==null?void 0:q.length)||5)){let P=null,G=k;if(U)P=c[k][_],G=k;else for(let X=k;X<c.length;X++){const tt=c[X][_];if(tt&&(tt.asignatura||tt.nivel||tt.seccion)){P=tt,G=X;break}}const z=P,H=Er(G);w(H);try{localStorage.setItem("__lastSlotId",H)}catch{}if(z!=null&&z.asignatura){const X=Array.isArray(z.habilidades)?z.habilidades.join(", "):z.habilidades??"";D({...z,unidad:z.unidad??"(sin unidad)",objetivo:z.objetivo??"(sin objetivo)",habilidades:X??"(sin habilidades)",bloque:N[G],dia:E[_],asignatura:z.asignatura??x??"(sin asignatura)"});try{const tt=Dn(),It=et(J,"planificaciones_sugeridas",u,tt,H),rt=await it(It);F(rt.exists()?rt.data():null)}catch(tt){console.warn("[planificaciones_sugeridas] read:",tt==null?void 0:tt.code)}try{const tt=et(J,"clases_detalle",u,"slots",H),It=await it(tt);if(It.exists()){const rt=It.data();D(lt=>({...lt||{},unidad:rt.unidad??(lt==null?void 0:lt.unidad)??"(sin unidad)",objetivo:rt.objetivo??(lt==null?void 0:lt.objetivo)??"(sin objetivo)",habilidades:rt.habilidades??(lt==null?void 0:lt.habilidades)??"(sin habilidades)",asignatura:rt.asignatura??(lt==null?void 0:lt.asignatura)??x??"(sin asignatura)"}))}else try{const rt={asignatura:z.asignatura??"",nivel:z.nivel??"",seccion:z.seccion??"",unidad:z.unidad??"",objetivo:z.objetivo??"",habilidades:X??"",updatedAt:Et()};if(rt.unidad||rt.objetivo||rt.habilidades)await xt(tt,rt,{merge:!0});else try{const Xe=await it(et(J,"horarios",u,"celdas",H));if(Xe.exists()){const vt=Xe.data()||{},kt={asignatura:vt.asignatura??"",nivel:vt.nivel??"",seccion:vt.seccion??"",unidad:vt.unidad??"",objetivo:vt.objetivo??"",habilidades:Array.isArray(vt.habilidades)?vt.habilidades.join(", "):vt.habilidades??"",updatedAt:Et()};(kt.unidad||kt.objetivo||kt.habilidades)&&(await xt(tt,kt,{merge:!0}),D(pr=>({...pr||{},...kt})))}}catch{}}catch(rt){console.warn("[auto seed clases_detalle desde horario]",(rt==null?void 0:rt.code)||(rt==null?void 0:rt.message))}}catch(tt){console.warn("[clases_detalle] read:",tt==null?void 0:tt.code)}}}})()},[y,x]);const[qe,$e]=A.useState([]);A.useEffect(()=>{if(!Q)return;const u=Qe(J,"salas",Q,"palabras");let c=u;try{c=Je(u,Ze("timestamp"))}catch{}const N=tn(c,E=>{const C=E.docs.map(B=>B.data()).filter(B=>(B.texto||"").trim().length>0),U=E.docs.map(B=>{var q,P,G;return{id:B.id,...B.data(),ts:((G=(P=(q=B.data())==null?void 0:q.timestamp)==null?void 0:P.toMillis)==null?void 0:G.call(P))||0}}).sort((B,q)=>q.ts-B.ts).slice(0,5);W(U);const k=new Map;C.forEach(B=>{const q=String(B.texto||"").trim().toLowerCase();q&&k.set(q,(k.get(q)||0)+1)});const _=Array.from(k.entries()).map(([B,q])=>({text:B,value:q}));$e(_);try{window.__lastCloud=_,setTimeout(()=>{$e((Array.isArray(_)?_:[]).map(B=>({...B,value:Number.isFinite(+B.value)?+B.value:1})))},0)}catch{}},E=>console.warn("[salas/palabras] onSnapshot:",(E==null?void 0:E.code)||(E==null?void 0:E.message)));return()=>N()},[Q]),A.useEffect(()=>{if(!Q)return;const u=Qe(J,"salas",Q,"presentes");let c=u;try{c=Je(u,Ze("ts","desc"))}catch{}const N=tn(c,E=>{const C=E.docs.map(U=>{var k,_,B,q,P,G;return{id:U.id,...U.data(),ts:((B=(_=(k=U.data())==null?void 0:k.ts)==null?void 0:_.toMillis)==null?void 0:B.call(_))||((G=(P=(q=U.data())==null?void 0:q.timestamp)==null?void 0:P.toMillis)==null?void 0:G.call(P))||0}}).sort((U,k)=>k.ts-U.ts);ot(C)},E=>console.warn("[presentes] onSnapshot:",(E==null?void 0:E.code)||(E==null?void 0:E.message)));return()=>N()},[Q]),A.useRef(null);const Kt=["#2563eb","#16a34a","#f59e0b","#ef4444","#a855f7","#0ea5e9","#10b981","#f43f5e","#f97316","#84cc16"],xe=u=>Math.min(80,18+(u.value-1)*10),dr=()=>0,Rt=A.useMemo(()=>qe,[qe]),We=A.useMemo(()=>{const u=new Map;for(const c of St||[]){const N=(c.text||"").trim().toLowerCase();if(!N)continue;const E=Number(c.value||1);u.set(N,(u.get(N)||0)+(isFinite(E)?E:1))}return Array.from(u.entries()).map(([c,N])=>({text:c,value:N}))},[St]);A.useMemo(()=>We.reduce((u,c)=>Math.max(u,Number(c.value||0)),1),[We]);const Ee=A.useMemo(()=>(Rt||[]).map((u,c)=>({text:String(u.text||"").trim(),value:Number.isFinite(+u.value)&&+u.value>0?+u.value:1,key:`${String(u.text||"").trim()}_${c}`})),[Rt]),ze=A.useRef(null),[Nt,hr]=A.useState({w:800,h:420});if(A.useEffect(()=>{const u=ze.current;if(!u||typeof ResizeObserver>"u")return;const c=new ResizeObserver(N=>{const E=Math.max(320,Math.floor(N[0].contentRect.width-24)),C=Math.max(220,Math.floor(E*.52));hr({w:E,h:C})});return c.observe(u),()=>c.disconnect()},[]),A.useEffect(()=>{try{const u=localStorage.getItem("cloudMode");if(!u||u==="auto"){const N=Cn()&&!Mn()?"svg":"html";localStorage.setItem("cloudMode",N),ge(N)}else ge(u)}catch{ge(Cn()&&!Mn()?"svg":"html")}},[]),A.useEffect(()=>{window.seedPruebaLunes=async()=>{var u;try{const c=((u=mt.currentUser)==null?void 0:u.uid)||localStorage.getItem("uid");if(!c)return alert("Sin uid");await xt(et(J,"clases_detalle",c,"slots","0-0"),{unidad:"Nmeros y operaciones",objetivo:"Reconocer y aplicar propiedades de los nmeros enteros.",habilidades:"Razonamiento y resolucin de problemas; comunicacin matemtica.",updatedAt:Et()},{merge:!0}),alert("Seed de detalle creado en clases_detalle/{uid}/slots/0-0")}catch(c){console.error(c),alert("No se pudo crear el seed de prueba")}}},[]),A.useEffect(()=>{!y||!m||(async()=>{var u;try{const c=((u=mt.currentUser)==null?void 0:u.uid)||localStorage.getItem("uid");if(!c)return;const N=et(J,"clases_detalle",c,"slots",m),E=await it(N),C=E.exists()?E.data():{};if(!(!(C!=null&&C.unidad&&String(C.unidad).trim())||!(C!=null&&C.objetivo&&String(C.objetivo).trim())||!(C!=null&&C.habilidades&&String(C.habilidades).trim())))return;const k=(C==null?void 0:C.codUnidad)||(M==null?void 0:M.codUnidad)||(S==null?void 0:S.codUnidad)||null;if(!k)return;const _=await it(et(J,"curriculo",k));if(!_.exists())return;const B=_.data(),q={codUnidad:k,unidad:C.unidad??B.titulo??"Unidad",objetivo:C.objetivo??(Array.isArray(B.objetivos)?B.objetivos[0]:"")??"",habilidades:C.habilidades??(Array.isArray(B.habilidades)?B.habilidades.join("; "):"")??"",updatedAt:Et()};await xt(N,q,{merge:!0}),D(P=>({...P||{},...q}))}catch(c){console.warn("[autofill curriculo  clases_detalle]",(c==null?void 0:c.code)||(c==null?void 0:c.message))}})()},[y,m,M,S]),A.useEffect(()=>{if(!y)return;const u=String((s==null?void 0:s.objetivo)||"").trim();(!u||/^\(sin/i.test(u))&&(async()=>{var N;try{const E=(s==null?void 0:s.asignatura)||x||"",C=(s==null?void 0:s.curso)||(M==null?void 0:M.curso)||"",U=(s==null?void 0:s.nivel)||Ds(C)||(M==null?void 0:M.nivel)||"",k=(s==null?void 0:s.unidad)||(M==null?void 0:M.unidad)||"";if(!E||!U||!k)return;const _=await Ts(E,U,(M==null?void 0:M.codUnidad)||null,k);if(!_)return;D(q=>({...q||{},objetivo:_}));const B=((N=mt.currentUser)==null?void 0:N.uid)||localStorage.getItem("uid");B&&m&&await xt(et(J,"clases_detalle",B,"slots",m),{objetivo:_,updatedAt:Et()},{merge:!0})}catch(E){console.warn("[getPrimerOA autofill]",(E==null?void 0:E.code)||(E==null?void 0:E.message))}})()},[y,m,x,M==null?void 0:M.codUnidad,M==null?void 0:M.unidad,M==null?void 0:M.nivel,s==null?void 0:s.objetivo,s==null?void 0:s.curso,s==null?void 0:s.nivel,s==null?void 0:s.unidad,s==null?void 0:s.asignatura]),a)return f.createElement("div",{style:wn},f.createElement(An,{show:l,data:{SAFE_MODE:a,DISABLE_CLOUD:o,mounted:!0}}),f.createElement("div",{style:{...ct,maxWidth:960,margin:"20px auto"}},f.createElement("b",null,"InicioClase")," mont en ",f.createElement("b",null,"modo seguro"),".",f.createElement("br",null),"Quita ",f.createElement("code",null,"?safe=1")," o usa ",f.createElement("code",null,"?nocloud=1")," para aislar la nube si fuese necesario."));const Ye=A.useMemo(()=>{const u=(s==null?void 0:s.habilidades)??null??(yt==null?void 0:yt.habilidades)??null;return u?Array.isArray(u)?u.map(c=>typeof c=="string"?c.trim():c!=null&&c.codigo?c.descripcion?`${c.codigo}: ${c.descripcion}`:c.codigo:(c==null?void 0:c.descripcion)||"").filter(Boolean):typeof u=="string"?u.split(/[,;|\n]+/).map(c=>c.trim()).filter(Boolean):[]:[]},[s,yt]),mr=u=>u?new Date(u).toLocaleTimeString():"";return f.createElement(qs,null,f.createElement(An,{show:l,data:{SAFE_MODE:a,DISABLE_CLOUD:o,authed:y,salaCode:Q||"(none)",cloudMode:bt,palabras:Array.isArray(Rt)&&Rt.length||0}}),f.createElement("div",{style:wn},n&&f.createElement("div",{style:{...ct,marginBottom:"1rem",background:"#ecfdf5",color:"#065f46",border:"1px solid #10b981"}},f.createElement("b",null," Pago recibido!")," Tu plan qued activo."),M&&f.createElement("div",{style:{...ct,marginBottom:"1rem",background:M.fuente==="calendario"?"rgba(124,58,237,.06)":"rgba(2,132,199,.06)"}},f.createElement("div",{style:{fontWeight:800}},M.fuente==="calendario"?"Plan semanal (vigente)":M.fuente==="slots"?"Horario (fallback)":"Sin clase planificada"),M.fila!=null&&M.col!=null&&f.createElement("div",{style:{fontSize:13,color:"#475569"}},"Bloque #",M.fila,"  Da #",M.col," (L=0)"),M.unidad&&f.createElement("div",{style:{marginTop:6}},f.createElement("b",null,"Unidad:")," ",M.unidad,M.evaluacion?"  (Evaluacin)":""),(M.objetivo||M.habilidades)&&f.createElement("div",{style:{fontSize:13,color:"#475569",marginTop:4}},M.objetivo&&f.createElement("span",null,f.createElement("b",null,"Objetivo:")," ",M.objetivo," "," "),M.habilidades&&f.createElement("span",null,f.createElement("b",null,"Habilidades:")," ",M.habilidades))),f.createElement("div",{style:{...Rs("1rem"),marginBottom:"1rem"}},f.createElement("div",{style:{...ct}},f.createElement("div",{style:{fontWeight:800,fontSize:"1.1rem",marginBottom:6}},"Inicio"),f.createElement("div",{style:{color:Z.textMuted,marginBottom:8}},v),f.createElement("div",{style:{display:"flex",alignItems:"center",gap:".5rem"}},f.createElement("div",{style:{fontSize:"1.6rem",fontWeight:800}},ks(Ft.m,Ft.s)),f.createElement("button",{onClick:fr,style:_n,title:"Reiniciar a 10:00"},"")),f.createElement("div",{style:{marginTop:8}},f.createElement(Nr,{slotId:m,phase:"inicio",defaultMinutes:10,onFinish:()=>{if(be)return;Ue(!0);const u=Lt(m||"0-0"),c=localStorage.getItem(u)||localStorage.getItem(Ct)||String(Date.now()),N=Number(c);try{localStorage.setItem("__lastSlotId",m||"0-0")}catch{}const E=ve();t("/desarrollo",{state:{slotId:m||"0-0",endMs:N,clase:s||null,ficha:E}})}}))),f.createElement("div",{style:{...ct}},f.createElement("div",{style:{fontWeight:800,fontSize:"1.2rem",marginBottom:6}},"Desarrollo de la clase"),f.createElement("div",{style:{marginBottom:6}},f.createElement("strong",null,"Unidad:")," ",(s==null?void 0:s.unidad)??"(sin unidad)"),f.createElement("div",{style:{marginBottom:6}},f.createElement("strong",null,"Objetivo:")," ",(s==null?void 0:s.objetivo)??"(sin objetivo)"),f.createElement("div",null,f.createElement("strong",null,"Habilidades:")," ",(s==null?void 0:s.habilidades)??"(sin habilidades)"),Ye.length>0&&f.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginTop:6}},Ye.map((u,c)=>f.createElement("span",{key:`${u}_${c}`,style:{border:"1px solid #cbd5e1",background:"#f8fafc",borderRadius:999,padding:"4px 10px",fontSize:12}},u))),S&&f.createElement("div",{style:{marginTop:10}},f.createElement("div",null,f.createElement("strong",null,"Sugerencias del catlogo:")),(((He=S.fuentes)==null?void 0:He.length)||0)===0&&f.createElement("div",{style:{color:Z.textMuted}},"No hay sugerencias registradas."),((Ge=S.fuentes)==null?void 0:Ge.length)>0&&f.createElement("ul",{style:{marginTop:6}},S.fuentes.map((u,c)=>f.createElement("li",{key:c},u.tipo?f.createElement("strong",null,u.tipo,":"):null," ",u.url?f.createElement("a",{href:u.url,target:"_blank",rel:"noreferrer"},u.url):null))),S.programaUrl&&f.createElement("div",{style:{marginTop:6}},f.createElement("a",{href:S.programaUrl,target:"_blank",rel:"noreferrer"},"Ver Programa de Estudio")))),f.createElement("div",{style:{...ct,display:"flex",flexDirection:"column",gap:".6rem"}},f.createElement("div",{style:{display:"flex",gap:".5rem"}},f.createElement("button",{style:Mt,title:"Accin 1"},""),f.createElement("button",{style:Mt,title:"Accin 2"},"")),f.createElement("div",{style:{textAlign:"right"}},f.createElement("div",{style:{fontWeight:800}},L),f.createElement("div",{style:{color:Z.textMuted}},(s==null?void 0:s.asignatura)??x??"(sin asignatura)")))),cr?f.createElement("div",{style:{...ct,marginBottom:"1rem",color:Z.textMuted}},"Cargando currculo MINEDUC"):yt?f.createElement("div",{style:{...ct,marginBottom:"1rem"}},f.createElement("div",{style:{fontWeight:800,marginBottom:6}},"Objetivos de Aprendizaje"),(Ve=yt.objetivos)!=null&&Ve.length?f.createElement("ul",{style:{marginTop:6}},yt.objetivos.map((u,c)=>f.createElement("li",{key:c},u))):f.createElement("div",{style:{color:Z.textMuted}},"(Sin objetivos cargados)"),f.createElement("div",{style:{fontWeight:800,marginTop:12,marginBottom:6}},"Habilidades"),(Ke=yt.habilidades)!=null&&Ke.length?f.createElement("ul",{style:{marginTop:6}},yt.habilidades.map((u,c)=>f.createElement("li",{key:c},u))):f.createElement("div",{style:{color:Z.textMuted}},"(Sin habilidades cargadas)")):f.createElement("div",{style:{...ct,marginBottom:"1rem",color:Z.textMuted}},"No se encontr informacin curricular para esta unidad."),f.createElement("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem"}},f.createElement("div",{style:ct,ref:ze},f.createElement("h3",{style:{marginTop:0,marginBottom:8}},"Nube de palabras"),o?f.createElement("div",{style:{color:Z.textMuted,padding:"1rem 0"}},"(Nube desactivada con ",f.createElement("code",null,"?nocloud=1")," para pruebas)"):f.createElement(f.Fragment,null,Rt.length===0?f.createElement("div",{style:{color:Z.textMuted,padding:"1rem 0"}},"An no hay palabras. Pide a tus estudiantes que escaneen el QR y enven una palabra."):f.createElement("div",{style:{width:"100%",overflow:"hidden"}},bt==="html"?f.createElement(On,{data:Ee,palette:Kt,width:Nt.w,height:Nt.h,fontSize:xe}):f.createElement(Bs,{fallback:f.createElement(On,{data:Ee,palette:Kt,width:Nt.w,height:Nt.h,fontSize:xe})},f.createElement(Os,{data:Ee,font:"Segoe UI, sans-serif",fontSizeMapper:xe,rotate:dr,padding:2,width:Nt.w,height:Nt.h,fill:(u,c)=>Kt[c%Kt.length],spiral:"archimedean"}))))),f.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"}},f.createElement("div",{style:{...ct,display:"flex",flexDirection:"column",alignItems:"center"}},f.createElement("h4",{style:{marginTop:0}},"Escanea para participar"),f.createElement("div",{style:{background:Z.white,padding:12,borderRadius:8,border:`1px solid ${Z.border}`}},f.createElement(_r,{value:K||window.location.origin,size:200})),f.createElement("code",{style:{fontSize:12,marginTop:8,color:Z.textMuted}},K),Q&&f.createElement("div",{style:{marginTop:8,fontWeight:800,textAlign:"center"}},"Cdigo: ",f.createElement("span",null,Q),f.createElement("button",{style:{..._n,marginLeft:8},onClick:()=>{navigator.clipboard.writeText(K)}},"Copiar"))),f.createElement("div",{style:ct},f.createElement("h4",{style:{marginTop:0}},"Asistencia"),f.createElement("div",{style:{marginBottom:6}},"Presentes: ",f.createElement("b",null,Y.length)),f.createElement("ul",{style:{margin:0,paddingLeft:"1rem",maxHeight:220,overflow:"auto"}},Y.length===0&&f.createElement("li",{style:{color:Z.textMuted}},"(An nadie ha escaneado)"),Y.map(u=>f.createElement("li",{key:u.id},"#",u.numeroLista||"?","  ",mr(u.ts))))),f.createElement("div",{style:ct},f.createElement("h4",{style:{marginTop:0}},"ltimos envos"),f.createElement("ul",{style:{margin:0,paddingLeft:"1rem"}},nt.length===0&&f.createElement("li",{style:{color:Z.textMuted}},"An no hay respuestas"),nt.map(u=>f.createElement("li",{key:u.id},"#",u.numeroLista||"?","  ",u.texto)))))),f.createElement("div",{style:{...ct,marginTop:"1rem",textAlign:"center"}},f.createElement("em",{style:{color:Z.textMuted}},"Espacio reservado para funciones futuras")),f.createElement("div",{style:{marginTop:"1.25rem",textAlign:"center",display:"flex",gap:"0.75rem",justifyContent:"center"}},f.createElement("button",{onClick:()=>{const u=Lt(m||"0-0"),c=localStorage.getItem(u)||localStorage.getItem(Ct),N=c?Number(c):0;try{localStorage.setItem("__lastSlotId",m||"0-0")}catch{}const E=ve();t("/desarrollo",{state:{slotId:m||"0-0",endMs:N,clase:s||null,ficha:E,nombre:L}})},style:Mt},"Ir a Desarrollo"),f.createElement("button",{onClick:()=>{Ps();try{localStorage.setItem("__lastSlotId",m||"0-0")}catch{}const u=Fs();t(u,{replace:!0,state:{from:"inicio",resetTimers:!0}})},style:Mt},"Volver al Inicio"),f.createElement("button",{onClick:()=>t("/horario/editar"),style:Mt},"Editar horario"))))}export{Hs as InicioClase};
